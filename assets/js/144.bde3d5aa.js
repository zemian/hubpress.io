(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{530:function(s,e,t){"use strict";t.r(e);var a=t(11),n=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("For a freshly installed MySQL server, you would need to initialize the system tables and data directory like this:")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[s._v("cd mysql-<version> \n\nscripts/mysql_install_db --basedir=. --datadir=data\nbin/mysqld_safe --defaults-file=my.cnf &\n")])])]),t("p",[s._v('Before MySQL 5.6, this will setup a "root" with empty password that you can immediately login. For MySQL 5.7 however, it creates a random password for "root" user now. The password is generated under $HOME/.mysql_secret. You need to login and run "SET PASSWORD ## PASSWORD(\'secret\')" to change it.')]),s._v(" "),t("p",[s._v('After above, you may login using "root" and start creating your own database and users. For example:')]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[s._v("CREATE DATABASE mydb;\nGRANT ALL PRIVILEGES ON mydb.* TO 'myuser'@'%' IDENTIFIED BY 'secret';\nGRANT ALL PRIVILEGES ON mydb.* TO 'myuser'@'localhost' IDENTIFIED BY 'secret';\n")])])]),t("p",[s._v("UPDATE 2015-01-26")]),s._v(" "),t("p",[s._v("Here are more notes to replace/upgrade existing mysql server and install to init.d to auto start by OS.")]),s._v(" "),t("h2",{attrs:{id:"install-and-setup-new-mysql-into-an-exiting-linux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-and-setup-new-mysql-into-an-exiting-linux"}},[s._v("#")]),s._v(" Install and Setup new MySQL into an exiting Linux.")]),s._v(" "),t("h3",{attrs:{id:"to-remove-dislable-old-existing-mysqld-init-d-one-usually-defualt-installed-under-usr-mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#to-remove-dislable-old-existing-mysqld-init-d-one-usually-defualt-installed-under-usr-mysql"}},[s._v("#")]),s._v(" To remove/dislable old existing mysqld init.d (one usually defualt installed under /usr/mysql)")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[s._v("sudo /sbin/chkconfig --del mysqld\n")])])]),t("h3",{attrs:{id:"install-new-mysql-server-5-6-16"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-new-mysql-server-5-6-16"}},[s._v("#")]),s._v(" Install new mysql server (5.6.16)")]),s._v(" "),t("ul",[t("li",[s._v("Ensure mysql user exists and installation files are owned by this user")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# Setup and initial the new mysql server \ngroupadd mysql\nuseradd -r -g mysql mysql \ncd /apps/mysql\nsudo chown -R mysql:mysql .\nsudo scripts/mysql_install_db --basedir=/apps/mysql --datadir=/apps/mysql/data --user=mysql\n\n# Optional: Manually start the server and see if it works\n# sudo bin/mysqld_safe --defaults-file=/apps/mysql/my.cnf --user=mysql\n# sudo bin/mysqladmin shutdown -u root\n\n# Install the init.d script to start server upon system reboot \nsudo ln -s support-file/mysql.server /etc/init.d/mysql.server\nsudo vim support-file/mysql.server\n    * Ensure these vars are set correctly in your env\nbasedir=/apps/mysql\ndatadir=/apps/mysql/data\ncnffile=/apps/mysql/my.cnf\nuser=mysql\n    * modify the mysqld_safe command line to add (ENSURE --user option comes last!)\n    --defaults-file=$cnffile --user=$user\n    \nsudo /sbin/chkconfig --add mysql.server\nsudo /sbin/service mysql.server start\n    \n### Change MySQL root password\n        sudo bin/mysqladmin password 'new_password'\n")])])]),t("p",[s._v("Ref:\n"),t("a",{attrs:{href:"https://dev.mysql.com/doc/refman/5.6/en/binary-installation.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://dev.mysql.com/doc/refman/5.6/en/binary-installation.html"),t("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=n.exports}}]);