(window.webpackJsonp=window.webpackJsonp||[]).push([[267],{649:function(e,t,r){"use strict";r.r(t);var n=r(10),o=Object(n.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[e._v("I downloaded latest Tomcat source and it failed to get the dependencies.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v("  cd src/github/tomcat\n  ant download-test-compile\n        [get] Error getting https://repo.maven.apache.org/maven2/junit/junit/4.12/junit-4.12.jar to C:\\Users\\zemian\\tomcat-build-libs\\download-2000731528.tmp\n\nBUILD FAILED\nC:\\Users\\zemian\\src\\github\\tomcat\\build.xml:2705: The following error occurred while executing this line:\nC:\\Users\\zemian\\src\\github\\tomcat\\build.xml:3051: javax.net.ssl.SSLException: java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n        at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\n")])])]),r("p",[e._v("It turns out this error is caused by the OpenJDK 8 that I am using. The\none I got is from "),r("a",{attrs:{href:"https://adoptopenjdk.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://adoptopenjdk.net/"),r("OutboundLink")],1),e._v(", and the\n$JAVA_HOME/jre/lib/security/cacert file has no entries for trusted CA\ncerts!")]),e._v(" "),r("p",[e._v("So I found few solutions:")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Find a copy of OracleJDK and copy their "),r("code",[e._v("cacerts")]),e._v(" over.")])]),e._v(" "),r("li",[r("p",[e._v("If you are on Linux, you can try installing cacerts using tools the\nOS provided. (eg: Ubuntu can be done like here:\n"),r("a",{attrs:{href:"https://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty"),r("OutboundLink")],1),e._v(")")])]),e._v(" "),r("li",[r("p",[e._v("Upgrade OpenJDK to 10")])]),e._v(" "),r("li",[r("p",[e._v("Or the quick way, go to the site that gives you problem, export\ntheir cert using the browser, and then import into to the "),r("code",[e._v("cacerts")]),e._v("\nfile.")])])]),e._v(" "),r("p",[e._v("So for me, I went to "),r("a",{attrs:{href:"https://repo.maven.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.maven.apache.org/"),r("OutboundLink")],1),e._v(" and exported\n"),r("code",[e._v("repomavenapacheorg.crt")]),e._v(", and then I ran the following:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v("cd $JAVA_HOME/jre/lib/security\nkeytool -keystore cacerts -storepasswd changeit -importcert -file 'Downloads/repomavenapacheorg.crt' -trustcacerts\nkeytool -keystore cacerts -storepasswd changeit -list\n")])])]),r("p",[e._v("This fixed my problem.")])])}),[],!1,null,null,null);t.default=o.exports}}]);