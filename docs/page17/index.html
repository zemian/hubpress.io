<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Zemian's Blog &middot; Life in programming world!
    
  </title>

  
  <link rel="canonical" href="http://localhost:4000/page17/">
  

  <link rel="stylesheet" href="http://localhost:4000/public/css/poole.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/syntax.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="http://localhost:4000/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://localhost:4000/atom.xml">

  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-135626598-1', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A weblog on software development.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item active" href="http://localhost:4000/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="http://localhost:4000/about/">About</a>
        
      
    
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    

  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2020. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Zemian's Blog</a>
            <small>Life in programming world!</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2014/04/13/how-to-disable-mysql-case-sensitive-with-table-names-in-queries/">
        How to disable MySQL case sensitive with table names in queries
      </a>
    </h1>

    <span class="post-date">13 Apr 2014</span>

    <p>My latest install of MySQL 5.16 on Windows 7 is case sensitive with table names. I much prefer it’s case in-sensitive for faster typing and adhoc queries. To do that, I need to edit the my.cnf file (Try running “mysql –help” and it will tell you where it is.)</p>

<p>At the end of the file, add this line:</p>

<p><code class="language-plaintext highlighter-rouge">lower_case_table_names = 1</code></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2014/04/07/how-to-setup-remote-debug-with-weblogic-server-and-eclipse/">
        How to setup remote debug with WebLogic Server and Eclipse
      </a>
    </h1>

    <span class="post-date">07 Apr 2014</span>

    <p>Here is how I enable remote debugging with WebLogic Server (11g) and Eclipse IDE. (Actually the java option is for any JVM, just the instruction here is WLS specific.)</p>

<ol>
  <li>Edit <code class="language-plaintext highlighter-rouge">&lt;my_domain&gt;/bin/setDomainEnv.sh</code> file and add this on top:</li>
</ol>

<p><code class="language-plaintext highlighter-rouge">JAVA_OPTIONS="$JAVA_OPTIONS -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n" 
</code>
The <code class="language-plaintext highlighter-rouge">suspend=n</code> will start your server without wait for you to connect with IDE. Server usually started with bunch of waiting threads and you can connect with an IDE any any time. You then try to place a break point and fetch a new HTTP request etc to initiate a thread to go into the code breakponit. If you don’t want the WLS to wait before fully started, then set it to suspend=y instead.</p>

<ol>
  <li>
    <p>Start/restart your WLS with <code class="language-plaintext highlighter-rouge">&lt;my_domain&gt;/bin/startWebLogic.sh</code></p>
  </li>
  <li>
    <p>Once WLS is running, you may connect to it using Eclipse IDE. Go to Menu: Run &gt; Debug Configuration … &gt; Remote Java Application and create a new entry. Ensure your port number is matching to what you used above.</p>
  </li>
</ol>

<p>Read more java debugging option here: <a href="http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html#DebuggingOptions">http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html#DebuggingOptions</a></p>

<p>Now on the IDE Eclipse side, you can connect to your WLS server with the following instruction:</p>

<ol>
  <li>
    <p>In Eclipse menu, select Run &gt; Debug Configuration …</p>
  </li>
  <li>
    <p>On left side, select Remote Java Application, and then press the + button to create a new configuration.</p>
  </li>
  <li>
    <p>On the right side you can fill in the server info such as hostname and port number.</p>
  </li>
  <li>
    <p>Click Debug button</p>
  </li>
</ol>

<p>UPDATE (10/30/14):</p>

<p>Remember each remote debug setup is per JVM and requires a unique port. So how to set each WebLogic Managed Server with unique debug port? You can easily do this by updating your line above to this:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DEBUG_PORT=${DEBUG_PORT:=8000}
JAVA_OPTIONS="$JAVA_OPTIONS -Xrunjdwp:transport=dt_socket,address=$DEBUG_PORT,server=y,suspend=n" 
</code></pre></div></div>
<p>Now you can start managed server like this to change the port in a Bash shell by change to your domain directory first, then run:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt;DEBUG_PORT=8001 bin/startManagedWeblogic.sh my_server_name
</code></pre></div></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2014/04/06/try-java8-online/">
        Try Java8 online!
      </a>
    </h1>

    <span class="post-date">06 Apr 2014</span>

    <p>This is pretty cool! href=”http://www.tryjava8.com/</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2014/04/04/creating-your-own-loop-structure-in-java-8-lambda/">
        Creating your own loop structure in Java 8 lambda
      </a>
    </h1>

    <span class="post-date">04 Apr 2014</span>

    <p>Java doesn’t have an easy construct of repeat something N number of times. We can make a for loop of course, but many times we don’t even care about the variable that we created in the loop. We just want repeat N times of some code and that’s it. With the lambda available in Java 8, you may attempt something like this:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public class RepeatDemo {
    public static void main(String[] args) {
        // One liner repeat
        repeat(10, () -&gt; System.out.println("HELLO"));

        // Multi-liners repeat
        repeat(10, () -&gt; {
            System.out.println("HELLO");
            System.out.println("WORLD");
        });
    }
    
    static void repeat(int n, Runnable r) {
        for (int i = 0; i &lt; n; i++)
            r.run();
    }
}
</code></pre></div></div>
<p>Probably not as eye pleasing or straight forward as the good fashion for-loop, but you do get rid of the unnecessary loop variable. Only if Java 8 would go extra mile and treat the lambda argument in method  with sugar syntax, then we could have it something like the Scala/Groovy style, which makes code more smoother. For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    // Wouldn't this be nice to have in Java?
    repeat(10) {
        System.out.println("HELLO");
        System.out.println("WORLD");
    }
</code></pre></div></div>

<p>Hum….</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2014/04/02/how-to-reset-weblogic-admin-server-password/">
        How to reset WebLogic admin server password
      </a>
    </h1>

    <span class="post-date">02 Apr 2014</span>

    <p>If you forgot your admin user password for WebLogic, you can reset it this way. Ensure you are in the domain directory first!</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>source $WL_HOME/server/bin/setWLSEnv.sh 

cd mydomain
mv security/DefaultAuthenticatorInit.ldift security/DefaultAuthenticatorInit.ldift.bak

java weblogic.security.utils.AdminAccount &lt;admin_username&gt; &lt;new_password&gt; security
</code></pre></div></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2014/03/31/how-to-process-stream-and-read-text-file-in-java-8/">
        How to process stream and read text file in Java 8
      </a>
    </h1>

    <span class="post-date">31 Mar 2014</span>

    <p>I have converted one of my old utility class using latest Java8. I use this often to print content of manifest file to check any mysterious jar file for version etc. Just run “java ztools.PrintJar /path/to/my.jar” to see output. In the new code, you will see how I use the Java 8 stream processing to filter what I need from an Enumeration list, and then get the optional result if there is any. And then the BufferedReader now comes with “lines()” method that also do streaming. It’s pretty cool to see Java 8 in actions!</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>package ztools;

import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.util.Optional;
import java.util.jar.JarEntry;
import java.util.jar.JarFile;

/**
 * Print text based resource file inside a jar file. (eg: META-INF/MANIFEST.MF)
 * @author Zemian Deng
 */
public class PrintJar {
    public static void main(String[] args) throws Exception {
        // Search given name in a jar
        JarFile jarFile = new JarFile(args[0]);
        final String searchName = (args.length &gt;= 2) ? args[1] : "META-INF/MANIFEST.MF";
        Optional&lt;JarEntry&gt; searchResult = jarFile
                .stream()
                .filter(e -&gt; e.getName().equals(searchName))
                .findFirst();
        if (!searchResult.isPresent())
            throw new RuntimeException(searchName + " not found!");
        
        // Print the JarEntry
        JarEntry entry = searchResult.get();
        try (InputStream instream = jarFile.getInputStream(entry)) {
            BufferedReader reader = new BufferedReader(new InputStreamReader(instream));
            reader.lines().forEach(line -&gt; System.out.println(line));
        }
    }
}
</code></pre></div></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2014/03/26/how-to-create-weblogic-persistent-jdbcstore/">
        How to create WebLogic Persistent JDBCStore
      </a>
    </h1>

    <span class="post-date">26 Mar 2014</span>

    <p>The WebLogic uses “Persistent Store “ to store subsystems data, such as persistent JMS messages. It defaults to use File Store, but you can customize to use database instead. To do this, you would need to create a DataSource first, and ensure to UNCHECK the “Supports Global Transactions” feature. Basically you need to create an NON-XA DataSource in order to use it in Persistent JDBCStore. Otherwise you will not able to see your datasource as option to use.</p>

<p>Exmaple of a Non-XA DataSource:
<img src="/images/posts/2014/wls-datasource.png" alt="" /></p>

<p>Exmaple of JDBCStore using that Non-XA DataSource: 
<img src="/images/posts/2014/wls-datasource-jdbcstore.png" alt="" /></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2014/03/21/how-to-use-nodemanager-to-control-weblogic-servers/">
        How to use NodeManager to control WebLogic Servers
      </a>
    </h1>

    <span class="post-date">21 Mar 2014</span>

    <p>In my <a href="http://saltnlight5.blogspot.com/2014/03/how-to-start-multiple-weblogic-managed.html">previous post</a>, you have seen how we can start a WebLogic admin and multiple managed servers. One downside with that instruction is that those processes will start in foreground and the STDOUT are printed on terminal. If you intended to run these severs as background services, you might want to try the WebLogic node manager <code class="language-plaintext highlighter-rouge">wlscontrol.sh</code> tool. I will show you how you can get Node Manager started here.</p>

<p>The easiest way is still to create the domain directory with the admin server running temporary and then create all your servers through the /console application as described in last post. Once you have these created, then you may shut down all these processes and start it with Node Manager.</p>

<ol>
  <li>cd <code class="language-plaintext highlighter-rouge">$WL_HOME/server/bin &amp;&amp; startNodeManager.sh &amp;</code></li>
  <li><code class="language-plaintext highlighter-rouge">$WL_HOME/common/bin/wlscontrol.sh -d mydomain -r $HOME/domains/mydomain -c -f startWebLogic.sh -s myserver START</code></li>
  <li><code class="language-plaintext highlighter-rouge">$WL_HOME/common/bin/wlscontrol.sh -d mydomain -r $HOME/domains/mydomain  -c -f startManagedWebLogic.sh -s appserver1 START</code></li>
</ol>

<p>The first step above is to start and run your Node Manager. It is recommended you run this as full daemon service so even OS reboot can restart itself. But for this demo purpose, you can just run it and send to background. Using the Node Manager we can then start the admin in step 2, and then to start the managed server on step 3.</p>

<p>The NodeManager can start not only just the WebLogic server for you, but it can also monitor them and automatically restart them if they were terminated for any reasons. If you want to shutdown the server manually, you may use this command using Node Manager as well:</p>

<p><code class="language-plaintext highlighter-rouge">$WL_HOME/common/bin/wlscontrol.sh -d mydomain -s appserver1 KILL</code></p>

<p>The Node Manager can also be used to start servers remotely through SSH on multiple machines. Using this tool effectively can help managing your servers across your network. You may read more details here:</p>

<p>http://docs.oracle.com/cd/E23943_01/web.1111/e13740/toc.htm</p>

<p>TIPS1: If there is problem when starting server, you may wnat to look into the log files. One log file is the <code class="language-plaintext highlighter-rouge">&lt;domain&gt;/servers/&lt;server&gt;/logs/&lt;server&gt;.out</code> of the server you trying to start. Or you can look into the Node Manager log itself at <code class="language-plaintext highlighter-rouge">$WL_HOME/common/nodemanager/nodemanager.log</code></p>

<p>TIPS2: You add startup JVM arguments to each server starting with Node Manager. You need to create a file under <code class="language-plaintext highlighter-rouge">&lt;domain&gt;/servers/&lt;server&gt;/data</code><code class="language-plaintext highlighter-rouge">/nodemanager/startup.properties</code> and add this key value pair: <code class="language-plaintext highlighter-rouge">Arguments = -Dmyapp=/foo/bar</code></p>

<p>TIPS3: If you want to explore Windows version of NodeManager, you may want to start NodeManager without native library to save yourself some trouble. Try adding <code class="language-plaintext highlighter-rouge">NativeVersionEnabled=false</code> to <code class="language-plaintext highlighter-rouge">$WL_HOME/common/nodemanager/nodemanager.properties </code>
file.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2014/03/19/java-8-is-out/">
        Java 8 is out!
      </a>
    </h1>

    <span class="post-date">19 Mar 2014</span>

    <p>You can watch webcast on March 25 here: http://eventreg.oracle.com/profile/web/index.cfm?PKWebId=0x637279c68</p>

<p>but you may download it now!</p>

<p>http://www.oracle.com/technetwork/java/javase/downloads/index.html</p>

<p>How exciting!</p>

<p>A simple Java8 test</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import org.junit.Test;

public class LamdaTest {
    @Test
    public void lamdaExpression() {
//        Runnable r = new Runnable() {
//            public void run() {
//                System.out.println("test");                
//            }            
//        };
        //new Thread(r).start();

        //new Thread(() -&gt; System.out.println("test")).start();

        //Runnable r = () -&gt; System.out.println("test");
        Runnable r = () -&gt; {
            System.out.println("test1"); 
            System.out.println("test2"); 
            System.out.println("test3"); 
        };
        System.out.println("result=" + r);
        new Thread(r).start();
    }
}
</code></pre></div></div>

<p>You can learn more from here: http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2014/03/18/how-to-workaround-weblogic-terminalio-not-found-error/">
        How to workaround WebLogic terminalio not found error
      </a>
    </h1>

    <span class="post-date">18 Mar 2014</span>

    <p>In some PC environments, you may have encounter error like following when trying to create and start a WebLogic Server domain admin server</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;Mar 10, 2014 9:40:58 AM EDT&gt; &lt;Error&gt; &lt;Security&gt; &lt;BEA-090783&gt; &lt;Server is Running in Development Mode and Native Library(terminalio) to read the password securely from commandline is not found.&gt;&lt;Mar 10, 2014 9:40:58 AM EDT&gt; &lt;Notice&gt; &lt;WebLogicServer&gt; &lt;BEA-000388&gt; &lt;JVM called WLS shutdown hook. The server will force shutdown now&gt;
&lt;Mar 10, 2014 9:40:58 AM EDT&gt; &lt;Notice&gt; &lt;WebLogicServer&gt; &lt;BEA-000365&gt; &lt;Server state changed to FORCE_SHUTTING_DOWN&gt;
</code></pre></div></div>
<p>After this unfriendly message, your process will just exit and won’t start at all! One quick fix for this is to try add this sys props -Dweblogic.management.allowPasswordEcho=true This will force the password prompt to echo out on console though, but at least it will start your server. And once the domain is created, you may restart it again without prompting password.</p>

<p>Ref: https://community.oracle.com/thread/934173</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="http://localhost:4000/page18">Older</a>
  
  
    
      <a class="pagination-item newer" href="http://localhost:4000/page16">Newer</a>
    
  
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='/public/js/script.js'></script>
  </body>
</html>
