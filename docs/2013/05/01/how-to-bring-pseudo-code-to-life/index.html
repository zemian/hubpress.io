<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      How to bring pseudo code to life &middot; Zemian's Blog
    
  </title>

  
  <link rel="canonical" href="http://localhost:4000/2013/05/01/how-to-bring-pseudo-code-to-life/">
  

  <link rel="stylesheet" href="http://localhost:4000/public/css/poole.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/syntax.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="http://localhost:4000/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://localhost:4000/atom.xml">

  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-135626598-1', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A weblog on software development.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="http://localhost:4000/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="http://localhost:4000/about/">About</a>
        
      
    
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    

  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2020. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Zemian's Blog</a>
            <small>Life in programming world!</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">How to bring pseudo code to life</h1>
  <span class="post-date">01 May 2013</span>
  <p>When designing a piece of software, I like to start with some pseudo code first, then work my way out. I tend to try mapping out the normal workflow (one that runs without any corner cases) with high level of actions as series of steps. Then the detailed implementation of the code can be filled in at later time.</p>

<p>Now with Java, you can easily do this with pseudo code, bring it to life, and still make it very maintainable. Try this out.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    package deng.javademo;
    
    /**
     * @author Zemian Deng
     */
    public class PseudoCodeToLife {
        public static void main(String[] args) {
            CreditCardProcessor creditCardProcessor = new CreditCardProcessor()
                    .step(webServiceRequest())
                    .step(validateCardNumber())
                    .step(validateSecurityCode())
                    .step(checkAvailableCredit())
                    .step(chargeCard())
                    .step(webServiceResponse());
    
            creditCardProcessor.run();
        }
    }
</code></pre></div></div>

<p>Now that’s as high level as you can get, but it still let me fill in the implementation without losing the overall requirement flow. To implement such workflow, we need a contract that allow processor to move data from one step to another, and yet it needs to perform some action along the way. How about an interface like this.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    package deng.javademo;
    
    /**
     * @author Zemian Deng
     */
    public interface StepAction {
        public void onAction(Exchange exchange);
    }
</code></pre></div></div>

<p>Next is how to wire steps together. For now we can just do it inside <code class="language-plaintext highlighter-rouge">CreditCardProcessor</code>, but you can easily abstract that into a re-usable base class.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    package deng.javademo;
    
    import java.util.ArrayList;
    import java.util.List;
    
    /**
     * @author Zemian Deng
     */
    public class CreditCardProcessor {
        List&lt;StepAction&gt; steps = new ArrayList&lt;StepAction&gt;();
    
        public CreditCardProcessor step(StepAction stepAction) {
            steps.add(stepAction);
            return this;
        }
    
        public void run() {
            Exchange exchange = new Exchange();
            for (StepAction step : steps) {
                step.onAction(exchange);
            }
        }
    }
</code></pre></div></div>

<p>Pretty straight forward. Here I used an <code class="language-plaintext highlighter-rouge">Exchange</code> as message, passing between each steps to allow the workflow to exchange data. You can wrap just about any real payload and/or add a Map of header properties.</p>

<p>Now what we are missing is just filling in each step of actions. Since we have an explicit step name when defining the workflow, we can just generate these method and fill in the actions per step required. I will add them all inside the <code class="language-plaintext highlighter-rouge">PseudoCodeToLife</code> and reprint it here.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    package deng.javademo;
    
    /**
     * @author Zemian Deng
     */
    public class PseudoCodeToLife {
        public static void main(String[] args) {
            CreditCardProcessor creditCardProcessor = new CreditCardProcessor()
                    .step(webServiceRequest())
                    .step(validateCardNumber())
                    .step(validateSecurityCode())
                    .step(checkAvailableCredit())
                    .step(chargeCard())
                    .step(webServiceResponse());
    
            creditCardProcessor.run();
        }
    
        private static StepAction webServiceRequest() {
            return new StepAction() {
                @Override
                public void onAction(Exchange exchange) {
                    System.out.println("webServiceRequest step.");
                }
            };
        }
    
        private static StepAction validateCardNumber() {
            return new StepAction() {
                @Override
                public void onAction(Exchange exchange) {
                    System.out.println("validateCardNumber step.");
                }
            };
        }
    
        private static StepAction validateSecurityCode() {
            return new StepAction() {
                @Override
                public void onAction(Exchange exchange) {
                    System.out.println("validateSecurityCode step.");
                }
            };
        }
    
        private static StepAction checkAvailableCredit() {
            return new StepAction() {
                @Override
                public void onAction(Exchange exchange) {
                    System.out.println("checkAvailableCredit step.");
                }
            };
        }
    
        private static StepAction chargeCard() {
            return new StepAction() {
                @Override
                public void onAction(Exchange exchange) {
                    System.out.println("chargeCard step.");
                }
            };
        }
    
        private static StepAction webServiceResponse() {
            return new StepAction() {
                @Override
                public void onAction(Exchange exchange) {
                    System.out.println("webServiceResponse step.");
                }
            };
        }
    }
</code></pre></div></div>

<p>That’s all to this. What do you think? I think it’s a simple way to tackle business problems. Simple software make less bugs and easier to maintain.</p>

</div>


<div class="related">
  <h2>Related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2020/09/20/world-of-php/">
            The World of PHP Development
            <small>20 Sep 2020</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2020/09/19/multiple-jquery/">
            How to Load Multiple jQuery
            <small>19 Sep 2020</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2020/08/15/switched-to-vuepress/">
            Switched Blogging to VuePress
            <small>15 Aug 2020</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='/public/js/script.js'></script>
  </body>
</html>
