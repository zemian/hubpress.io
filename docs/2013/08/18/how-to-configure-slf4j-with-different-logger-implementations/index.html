<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      How to configure SLF4J with different logger implementations &middot; Zemian's Blog
    
  </title>

  
  <link rel="canonical" href="http://localhost:4000/2013/08/18/how-to-configure-slf4j-with-different-logger-implementations/">
  

  <link rel="stylesheet" href="http://localhost:4000/public/css/poole.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/syntax.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="http://localhost:4000/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://localhost:4000/atom.xml">

  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-135626598-1', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A weblog on software development.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="http://localhost:4000/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="http://localhost:4000/about/">About</a>
        
      
    
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    

  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2020. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Zemian's Blog</a>
            <small>Life in programming world!</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">How to configure SLF4J with different logger implementations</h1>
  <span class="post-date">18 Aug 2013</span>
  <p>There are many good benefits in using <code class="language-plaintext highlighter-rouge">slf4j</code> library as your Java
application logging API layer. Here I will show few examples on how
to use and configure it with different loggers.</p>

<p>You can think of <code class="language-plaintext highlighter-rouge">slf4j</code> as an Java interface, and then you would
need an implementation (ONLY ONE) at runtime to provide the actual
logging details, such as writing to STDOUT or to a file etc. Each
logging implementation (or called binding) would obviously have their
own way of configuring the log output, but your application will remain
agnostic and always use the same <code class="language-plaintext highlighter-rouge">org.slf4j.Logger</code> API. Lets see how
this works in practice.</p>

<p>## 
Using <code class="language-plaintext highlighter-rouge">slf4j</code> with Simple logger</p>

<p>Create a Maven based project and this in your <code class="language-plaintext highlighter-rouge">pom.xml</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;
        &lt;version&gt;1.7.5&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre></div></div>

<p>Now you may use <code class="language-plaintext highlighter-rouge">Logger</code> in your Java code like this.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>package deng;
import org.slf4j.*;
public class Hello {
    static Logger LOGGER = LoggerFactory.getLogger(Hello.class);
    public static void main(String[] args) {
        for (int i = 0; i &lt; 10; i++)
            if (i % 2 == 0)
                LOGGER.info("Hello {}", i);
            else
                LOGGER.debug("I am on index {}", i);
    }
}
</code></pre></div></div>

<p>The above will get your program compiled, but when you run it, you will see these output.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; java deng.Hello
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
</code></pre></div></div>

<p>What its saying is that at runtime, you are missing the logging “implementation” (or the
logger binding), so <code class="language-plaintext highlighter-rouge">slf4j</code> simply use a “NOP” implmentation, which does nothing. In order
to see the output properly, you may try use an simple implementation that does not require
any configuration at all! Just go back to your <code class="language-plaintext highlighter-rouge">pom.xml</code> and add the following:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;
        &lt;version&gt;1.7.5&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre></div></div>

<p>Now you see logging output on STDOUT with INFO level. This simple logger will default
show any INFO level message or higher. In order to see DEBUG messages, you would
need to pass in this System Property <code class="language-plaintext highlighter-rouge">-Dorg.slf4j.simpleLogger.defaultLogLevel=DEBUG</code>
at your Java startup.</p>

<p>## 
Using <code class="language-plaintext highlighter-rouge">slf4j</code> with Log4j logger</p>

<p>Now we can experiment and swap different logger implementations, but your application code
can remain the same. All we need is to replace <code class="language-plaintext highlighter-rouge">slf4j-simple</code> with another popular logger
implementation, such as the Log4j.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
        &lt;version&gt;1.7.5&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre></div></div>

<p>Again, we must configure logging per implementation that we picked.
In this case, we need an <code class="language-plaintext highlighter-rouge">src/main/resources/log4j.properties</code> file.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    log4j.rootLogger=DEBUG, STDOUT
    log4j.logger.deng=INFO
    log4j.appender.STDOUT=org.apache.log4j.ConsoleAppender
    log4j.appender.STDOUT.layout=org.apache.log4j.PatternLayout
    log4j.appender.STDOUT.layout.ConversionPattern=%5p [%t] (%F:%L) - %m%n
</code></pre></div></div>

<p>Re-run your program, and you should see similar output.</p>

<p>## 
Using <code class="language-plaintext highlighter-rouge">slf4j</code> with JDK logger</p>

<p>The JDK actually comes with a logger package, and you can replace <code class="language-plaintext highlighter-rouge">pom.xml</code>
with this logger implementation.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
        &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;
        &lt;version&gt;1.7.5&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre></div></div>

<p>Now the configuration for JDK logging is a bit difficult to work with. Not only need a
config file, such as <code class="language-plaintext highlighter-rouge">src/main/resources/logging.properties</code>, but you would also need
to add a System properties <code class="language-plaintext highlighter-rouge">-Djava.util.logging.config.file=logging.properties</code>
in order to have it pick it up. Here is an example to get you started:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.level=INFO

handlers=java.util.logging.ConsoleHandler
java.util.logging.ConsoleHandler.level=FINEST
deng.level=FINEST
</code></pre></div></div>

<p>## 
Using <code class="language-plaintext highlighter-rouge">slf4j</code> with Logback logger</p>

<p>The logback logger implementation is a super dupa quality implementation. If you intend
to write serious code that go into production, you may want to evaluate this option. Again
modify your <code class="language-plaintext highlighter-rouge">pom.xml</code> to replace with this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    &lt;dependency&gt;
        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
        &lt;version&gt;1.0.13&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre></div></div>

<p>Here is a sample of configuration <code class="language-plaintext highlighter-rouge">src/main/resources/logback.xml</code> to get things started.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;configuration&gt;
  &lt;appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender"&gt;
    &lt;encoder&gt;
      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;
    &lt;/encoder&gt;
  &lt;/appender&gt;

  &lt;logger name="deng" level="DEBUG"/&gt;

  &lt;root level="INFO"&gt;
    &lt;appender-ref ref="STDOUT" /&gt;
  &lt;/root&gt;
&lt;/configuration&gt;
</code></pre></div></div>

<p>## 
Writing your own library with <code class="language-plaintext highlighter-rouge">slf4j</code> logger</p>

<p>If you are providing an Java library for large end users consumption, its good idea to
set your project to depend on <code class="language-plaintext highlighter-rouge">slf4j-api</code> only, and then let your user choose any
logger implementation at their development or runtime environment. As end users, they
may quickly select one of option above and take advatage of their own favorite logging
implementation features.</p>

<p>## 
References</p>

<ul>
  <li>
    <p><a href="http://slf4j.org/">http://slf4j.org/</a></p>
  </li>
  <li>
    <p><a href="http://logging.apache.org/log4j/1.2/">http://logging.apache.org/log4j/1.2/</a></p>
  </li>
  <li>
    <p><a href="http://docs.oracle.com/javase/7/docs/technotes/guides/logging/">http://docs.oracle.com/javase/7/docs/technotes/guides/logging/</a></p>
  </li>
  <li>
    <p><a href="http://logback.qos.ch/">http://logback.qos.ch/</a></p>
  </li>
</ul>

</div>


<div class="related">
  <h2>Related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2020/09/20/world-of-php/">
            The World of PHP Development
            <small>20 Sep 2020</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2020/09/19/multiple-jquery/">
            How to Load Multiple jQuery
            <small>19 Sep 2020</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2020/08/15/switched-to-vuepress/">
            Switched Blogging to VuePress
            <small>15 Aug 2020</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='/public/js/script.js'></script>
  </body>
</html>
