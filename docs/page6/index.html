<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Zemian's Blog &middot; Life in programming world!
    
  </title>

  
  <link rel="canonical" href="http://localhost:4000/page6/">
  

  <link rel="stylesheet" href="http://localhost:4000/public/css/poole.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/syntax.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="http://localhost:4000/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://localhost:4000/atom.xml">

  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-135626598-1', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A weblog on software development.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item active" href="http://localhost:4000/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="http://localhost:4000/about/">About</a>
        
      
    
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    

  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2020. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Zemian's Blog</a>
            <small>Life in programming world!</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2018/03/11/how-to-find-linux-standard-base-release-info/">
        How to find Linux Standard Base release info
      </a>
    </h1>

    <span class="post-date">11 Mar 2018</span>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>zemian@zemian-VirtualBox:~$ lsb_release -a

No LSB modules are available.
Distributor ID: Ubuntu
Description:    Ubuntu 16.04.3 LTS
Release:        16.04
Codename:       xenial
</code></pre></div></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2018/03/07/reduce-recent-project-list-size-in-intellij/">
        Reduce recent project list size in IntelliJ
      </a>
    </h1>

    <span class="post-date">07 Mar 2018</span>

    <p>When opening a project from IntelliJ IDE, it will give you a list of
menu that contains your recent projects. This list however has default
of 50 items max, and sometimes I find it stretched the menu popup too
long and covered some of IDE the status line (which I need to verify the
project path to be open). It’s a pity that there is obvious normal IDE
Settings to change this, but today I found a post that shows how you can
do it this:</p>

<ol>
  <li>
    <p>Go to menu: <code class="language-plaintext highlighter-rouge">Help-&gt;Find Action-&gt;Registry</code></p>
  </li>
  <li>
    <p>In the diablog table, find the “ide.max.recent.projects” key entry
and change the value to your liking (eg: <code class="language-plaintext highlighter-rouge">10</code>)</p>
  </li>
</ol>

<p>Ref:
<a href="https://intellij-support.jetbrains.com/hc/en-us/community/posts/207089089-SOLVED-Where-do-I-set-the-maximum-number-of-recent-projects-to-be-shown-in-the-File-Open-Recent-list">https://intellij-support.jetbrains.com/hc/en-us/community/posts/207089089-SOLVED-Where-do-I-set-the-maximum-number-of-recent-projects-to-be-shown-in-the-File-Open-Recent-list</a>-</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2018/03/07/compling-apache-httpd-web-server-on-macosx/">
        Compling Apache HTTPD Web Server on MacOSX
      </a>
    </h1>

    <span class="post-date">07 Mar 2018</span>

    <p>Before you begin, you should know that the HTTPD server is very likely
already comes with your MacOSX! For example, here is how my server looks
like:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ apachectl -t -D DUMP_INCLUDES
Included configuration files:
  (*) /private/etc/apache2/httpd.conf
    (498) /private/etc/apache2/extra/httpd-mpm.conf
    (504) /private/etc/apache2/extra/httpd-autoindex.conf
    (544) /private/etc/apache2/other/php7.conf
</code></pre></div></div>

<p>You would want to compile and buid your own HTTPD server if you like to
customize your own build or doing modules development. In that case,
read on.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#
# Requirement:
#  MacOSX Version:
#    Darwin myhost 17.4.0 Darwin Kernel Version 17.4.0: Sun Dec 17 09:19:54 PST 2017; root:xnu-4570.41.2~1/RELEASE_X86_64 x86_64
#  HTTPD version 2.4.9
#

# Install xcode that comes with C compiler
xcode-select --install

# Install package manager for macosx
# install brew from https://brew.sh

#
# NOTE: If your brew installation have probblem with error writing to /usr/local
# then try to uninstall then install brew again.
#
# Uninstall
# /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)"
#
# Install
# /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
#

# Install make tools and required libraries
brew install autoconf automake libtool pcre

git clone git://git.apache.org/httpd.git
cd httpd
git checkout 2.4.9

# You also need to get the required library sources
cd srclib
git clone git://git.apache.org/apr.git
cd apr
git checkout 1.6.3
cd ../
git clone git://git.apache.org/apr-util.git
cd apr-util
git checkout 1.6.1
cd ../../

./buildconf
./configure

make
sudo make install

# When completed successful, the HTTPD server will be in /usr/local/apache2
</code></pre></div></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2018/03/07/compling-apache-httpd-web-server-on-linux-ubuntu/">
        Compling Apache HTTPD Web Server on Linux (Ubuntu)
      </a>
    </h1>

    <span class="post-date">07 Mar 2018</span>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install autoconf automake libtool libtool-bin libpcre3-dev libexpat1-dev libexpat1-dev libexpat1-dev
mkdir ossdev
cd ossdev
git clone git://git.apache.org/httpd.git
git clone git://git.apache.org/apr.git httpd/srclib/apr
git clone git://git.apache.org/apr-util.git httpd/srclib/apr-util
cd httpd
git checkout 2.4.9
cd srclib/apr
git checkout 1.6.3
cd ../apr-util
git checkout 1.6.1
cd ../../
./buildconf
./configure --enable-mpms-shared --with-pmp=worker --enable-mods-shared=most
make
sudo make install
sudo /usr/local/apache2/bin/apachectl -k start
</code></pre></div></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2018/03/07/compling-apache-httpd-web-server-on-cygwin/">
        Compling Apache HTTPD Web Server on Cygwin
      </a>
    </h1>

    <span class="post-date">07 Mar 2018</span>

    <p>I have noted the instructions on how to build the HTTPD web server from
scratch in a Cygwin platoform in a Windows 7 PC.</p>

<p>Note that compiling full HTTPD on Cygwin is very slow compare to other
system such as Linux or MacOSX! If you are looking to do full HTTPD
server development, it’s recommend to use a real Linux env instead.</p>

<h1 id="requirements">Requirements:</h1>

<ul>
  <li>
    <p>Apache HTTPD version <code class="language-plaintext highlighter-rouge">2.4.9</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">CYGWIN\_NT-6.1 L328BDS002096US 2.10.0(0.325/5/3) 2018-02-02 15:16 x86\_64 Cygwin</code></p>
  </li>
  <li>
    <p>Install the following cygwin packages:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        autoconf
        make
        automake
        m4
        gcc-core
        libtool
        bison
        flex
        perl
        libapr1-devel
        libaprutil1-devel
        libiconv-devel
        libpcre-devel
        libgdbm-devel
        openssl-devel
</code></pre></div>    </div>
  </li>
</ul>

<h1 id="compiling-the-server">Compiling the server</h1>

<p>Step 1. Get the source:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone git://git.apache.org/httpd.git
cd httpd
git checkout 2.4.9

# You also need to get the required library sources
cd srclib
git clone git://git.apache.org/apr.git
cd apr
git checkout 1.6.3
cd ../
git clone git://git.apache.org/apr-util.git
cd apr-util
git checkout 1.6.1
cd ../../
</code></pre></div></div>

<p>Note that unlike the source pre-package you download from Apache site,
the <code class="language-plaintext highlighter-rouge">httpd</code> source repo does not have <code class="language-plaintext highlighter-rouge">configure</code> script, and you need
to generate it with <code class="language-plaintext highlighter-rouge">buildconf</code>. See next step for further instruction.</p>

<p>Note that the current <code class="language-plaintext highlighter-rouge">apr-util</code> repository is empty in master branch!
This is because they moved the code to <code class="language-plaintext highlighter-rouge">apr</code> starting version 2.0 dev,
but we still be using version 1.6.x, so we need to explicitly checkout
the tag or branch.</p>

<p>Step 2. Compiling</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./buildconf
./configure --prefix=/usr/local/apache2 \
  --with-included-apr \
  --enable-mpms-shared \
  --with-mpm=worker \
  --enable-mods-shared=most
make
make install
</code></pre></div></div>

<p>The option <code class="language-plaintext highlighter-rouge">--prefix=/usr/local/apache2</code> tells the build to install the
software into a user specific location.</p>

<p>The option <code class="language-plaintext highlighter-rouge">enable-mpms-shared</code> will make the mpm_module to be shared
library so you can switch to different threading model if you want.
Default to <code class="language-plaintext highlighter-rouge">worker</code> which should work nicely in Cygwin env.</p>

<p>The option <code class="language-plaintext highlighter-rouge">enable-mods-shared</code> will make most of the modules as shared
libraries. You can use <code class="language-plaintext highlighter-rouge">all</code> for full server.</p>

<p>The option <code class="language-plaintext highlighter-rouge">--with-included-apr</code> tells the build to use the <code class="language-plaintext highlighter-rouge">srclib/apr</code>
we have downloaded. Here you can use system installed <code class="language-plaintext highlighter-rouge">apr</code> if you like.
For an example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./configure --prefix=/usr/local/apache2 \
--with-apr=/usr/bin/apr-1-config \
--with-apr-util=/usr/bin/apu-1-config \
--enable-mpms-shared \
--with-mpm=worker \
--enable-mods-shared=most
</code></pre></div></div>

<p>For more details, see</p>

<ul>
  <li>
    <p><a href="http://httpd.apache.org/docs/2.4/install.html">http://httpd.apache.org/docs/2.4/install.html</a> or the INSTALL file
from source.</p>
  </li>
  <li>
    <p><a href="https://httpd.apache.org/docs/2.4/programs/configure.html">https://httpd.apache.org/docs/2.4/programs/configure.html</a></p>
  </li>
</ul>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2018/03/05/package-manager-for-macosx/">
        Package manager for MacOSX
      </a>
    </h1>

    <span class="post-date">05 Mar 2018</span>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    #
    # Install package manager for macosx called brew from https://brew.sh
    #
    # Install
    $ /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"

    # If your brew installation have problem with error writing to /usr/local
    # then try to uninstall then install brew again.
    #
    # Uninstall
    $ /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)"
</code></pre></div></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2018/03/05/installing-c-compiler-on-macosx/">
        Installing C compiler on MacOSX
      </a>
    </h1>

    <span class="post-date">05 Mar 2018</span>

    <p>Install xcode - it contains C compiler and many other developer tools for MacOSX system</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>xcode-select --install
</code></pre></div></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2018/03/05/how-to-setup-httpd-reverse-proxy-to-tomcat/">
        How to setup Httpd Reverse Proxy To Tomcat
      </a>
    </h1>

    <span class="post-date">05 Mar 2018</span>

    <p>Here is an example on how to configure HTTPD server with reverse proxy
into Tomcat, and adding the authenticated user as header and passing to
Tocmat server.</p>

<ol>
  <li>Example of <code class="language-plaintext highlighter-rouge">httpd.conf</code> file
```
    <h1 id="apache-httpd-v24-minimal-configuration">Apache httpd v2.4 minimal configuration</h1>
    <p>ServerRoot “/etc/httpd”
Listen 80</p>
  </li>
</ol>

<p>LoadModule mpm_prefork_module modules/mod_mpm_prefork.so
LoadModule unixd_module modules/mod_unixd.so
LoadModule authz_core_module modules/mod_authz_core.so
LoadModule authz_user_module modules/mod_authz_user.so
LoadModule log_config_module modules/mod_log_config.so
LoadModule dir_module modules/mod_dir.so</p>

<h1 id="other-useful-features">Other useful features</h1>
<p>LoadModule mime_module modules/mod_mime.so
LoadModule autoindex_module modules/mod_autoindex.so
LoadModule status_module modules/mod_status.so
LoadModule alias_module modules/mod_alias.so
LoadModule env_module modules/mod_env.so
LoadModule setenvif_module modules/mod_setenvif.so
LoadModule filter_module modules/mod_filter.so
LoadModule ext_filter_module modules/mod_ext_filter.so</p>

<p>DirectoryIndex index.html
ErrorLog /var/log/httpd/error.log
LogFormat “%h %l %u %t "%r" %&gt;s %b” common
CustomLog /var/log/httpd/access.log common</p>
<Directory />

<p>AllowOverride None
  Require all denied
&lt;/Directory&gt;</p>

<p>DocumentRoot “/srv/www/htdocs”
&lt;Directory “/srv/www/htdocs”&gt;
  Require all granted
&lt;/Directory&gt;</p>

<h1 id="tomcat-reverse-proxy-setup">Tomcat Reverse Proxy setup</h1>
<p>LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_http_module modules/mod_proxy_http.so
LoadModule rewrite_module modules/mod_rewrite.so
LoadModule headers_module modules/mod_headers.so
LoadModule request_module modules/mod_request.so</p>

<p>LoadModule auth_form_module modules/mod_auth_form.so
LoadModule auth_digest_module modules/mod_auth_digest.so
LoadModule authn_core_module modules/mod_authn_core.so
LoadModule authn_file_module modules/mod_authn_file.so
LoadModule session_module modules/mod_session.so
LoadModule session_cookie_module modules/mod_session_cookie.so</p>

<p>ProxyPass “/jspwebapp” “http://localhost:8080/jspwebapp”
ProxyPassReverse “/jspwebapp” “http://localhost/jspwebapp”
ProxyPass “/jspwebapp2” “http://localhost:8080/jspwebapp2”
ProxyPassReverse “/jspwebapp2” “http://localhost/jspwebapp2”</p>

<h1 id="httpd-form-loginlogout-process">HTTPD Form Login/logout process</h1>
<p>&lt;LocationMatch “/(jspwebapp|jspwebapp2)”&gt;
        Require valid-user
        AuthName “SecuredArea”
        AuthFormProvider file
        AuthUserFile “/etc/httpd/passwd/passwords”
        AuthType form
        AuthFormLoginRequiredLocation “/login.html”</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Session On
    SessionCookieName session path=/
    SessionMaxAge 1800
    SessionEnv On
    SessionHeader X-Replace-Session

    RewriteEngine On
    RewriteRule .* - [env=X_REMOTE_USER:%{LA-U:REMOTE_USER}]
    RequestHeader set appuser "%{X_REMOTE_USER}e"
</code></pre></div></div>
<p>&lt;/LocationMatch&gt;
&lt;Location “/login”&gt;
        SetHandler form-login-handler
        AuthName “SecuredArea”
        AuthFormProvider file
        AuthUserFile “/etc/httpd/passwd/passwords”
        AuthType form
        AuthFormLoginRequiredLocation “/login.html”
        AuthFormLoginSuccessLocation “/secured/index.html”</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Session On
    SessionCookieName session path=/
    SessionMaxAge 1800
</code></pre></div></div>
<p>&lt;/Location&gt;
&lt;Location “/logout”&gt;
        SetHandler form-logout-handler
        AuthName “SecuredArea”
        AuthFormLogoutLocation “http://localhost/logout.html”</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Session On
    SessionCookieName session path=/
    SessionMaxAge 1
</code></pre></div></div>
<p>&lt;/Location&gt;
```</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2018/03/04/minimal-httpd-config-file/">
        Minimal HTTPD config file
      </a>
    </h1>

    <span class="post-date">04 Mar 2018</span>

    <p>If you are looking for small set of httpd config file, here is one I
come up with based on original <a href="https://wiki.apache.org/httpd/Minimal_Config">httpd
wiki</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Apache httpd v2.4 minimal configuration
ServerName localhost
ServerRoot "/usr/local/apache2"
Listen 80

User daemon
Group daemon

# Core modules
LoadModule mpm_worker_module modules/mod_mpm_worker.so
LoadModule unixd_module modules/mod_unixd.so
LoadModule authz_core_module modules/mod_authz_core.so
LoadModule authz_user_module modules/mod_authz_user.so
LoadModule log_config_module modules/mod_log_config.so
LoadModule dir_module modules/mod_dir.so

# Other useful features
LoadModule mime_module modules/mod_mime.so
LoadModule autoindex_module modules/mod_autoindex.so
LoadModule status_module modules/mod_status.so
LoadModule alias_module modules/mod_alias.so
LoadModule env_module modules/mod_env.so
LoadModule setenvif_module modules/mod_setenvif.so
LoadModule filter_module modules/mod_filter.so

DirectoryIndex index.html
ErrorLog logs/error.log
LogFormat "%h %l %u %t \"%r\" %&gt;s %b" common
CustomLog logs/access.log common

DocumentRoot "htdocs"
&lt;Directory "htdocs"&gt;
  Options Indexes FollowSymLinks
  AllowOverride None
  Require all granted
&lt;/Directory&gt;

# Enable CGI support
LoadModule cgid_module modules/mod_cgid.so
ScriptAlias /cgi-bin/ "cgi-bin/"
&lt;Directory "cgi-bin"&gt;
    AllowOverride None
    Options None
    Require all granted
&lt;/Directory&gt;
</code></pre></div></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2018/03/04/fetching-data-from-postgresql-using-python-psycopg2/">
        Fetching Data From PostgreSQL Using Python psycopg2
      </a>
    </h1>

    <span class="post-date">04 Mar 2018</span>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import psycopg2
conn = psycopg2.connect('dbname=test user=test')
cur = conn.cursor()
cur.execute("select * from users order by username")
while True:
    row = cur.fetchmany()
    if len(row) == 0:
        break
    print(row)
cur.close()
conn.close()
</code></pre></div></div>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="http://localhost:4000/page7">Older</a>
  
  
    
      <a class="pagination-item newer" href="http://localhost:4000/page5">Newer</a>
    
  
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='/public/js/script.js'></script>
  </body>
</html>
