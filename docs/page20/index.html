<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Zemian's Blog &middot; Life in programming world!
    
  </title>

  
  <link rel="canonical" href="http://localhost:4000/page20/">
  

  <link rel="stylesheet" href="http://localhost:4000/public/css/poole.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/syntax.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="http://localhost:4000/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://localhost:4000/atom.xml">

  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-135626598-1', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A weblog on software development.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item active" href="http://localhost:4000/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="http://localhost:4000/about/">About</a>
        
      
    
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    

  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2020. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Zemian's Blog</a>
            <small>Life in programming world!</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2013/09/01/exploring-apache-camel-core-timer-component/">
        Exploring Apache Camel Core - Timer Component
      </a>
    </h1>

    <span class="post-date">01 Sep 2013</span>

    <p>Camel Timer is a simple and yet useful component.
It brings the JDK’s timer functionality into your camel Route with very simple config.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   from("timer://mytimer?period=1000")
    .process(new Processor() {
        public void process(Exchange msg) {
            LOG.info("Processing {}", msg);
        }
    });
</code></pre></div></div>

<p>That will generate a timer event message every second. You may short hand <code class="language-plaintext highlighter-rouge">1000</code> with
<code class="language-plaintext highlighter-rouge">1s</code> instead. It supports <code class="language-plaintext highlighter-rouge">m</code> for minutes, or <code class="language-plaintext highlighter-rouge">h</code> for hours as well. Pretty handy.</p>

<p>Another useful timer feature is that it can limit (stop) the number of timer messages after a certain
count. You simply need to add <code class="language-plaintext highlighter-rouge">repeatCount</code> option toward the url.</p>

<p>Couple of properties from the event message would be useful when handling the timer
message. Here is an example how to read them.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   from("timer://mytimer?period=1s&amp;repeatCount=5")
    .process(new Processor() {
        public void process(Exchange msg) {
            java.util.Date fireTime = msg.getProperty(Exchange.TIMER_FIRED_TIME, java.util.Date.class);
            int eventCount = msg.getProperty(Exchange.TIMER_COUNTER, Integer.class);
            LOG.info("We received {}th timer event that was fired on {}", eventCount, fireTime);
        }
    });
</code></pre></div></div>

<p>There are more options availabe from <a href="http://camel.apache.org/timer.html">Timer</a> component
that you may explore.
<a href="http://saltnlight5.blogspot.com/2013/08/getting-started-with-apache-camel-using.html">Try it out with a Route</a>
and see it for yourself.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2013/08/27/running-maven-war-packaging-project-without-pom-config/">
        Running Maven war packaging project without pom config
      </a>
    </h1>

    <span class="post-date">27 Aug 2013</span>

    <p>Use Jetty (latest 9.x requires JDK7)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; mvn org.eclipse.jetty:jetty-maven-plugin:run -Djetty.port=8081
</code></pre></div></div>

<p>Or use Jetty on JDK 6</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; mvn org.mortbay.jetty:jetty-maven-plugin:8.1.12.v20130726:run -Djetty.port=8081
</code></pre></div></div>

<p>Or use Tomcat</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; mvn org.apache.tomcat.maven:tomcat7-maven-plugin:run -Dmaven.tomcat.port=8081
</code></pre></div></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2013/08/25/how-to-create-web-app-with-quartz-scheduler-and-logging/">
        How to create web-app with Quartz Scheduler and logging
      </a>
    </h1>

    <span class="post-date">25 Aug 2013</span>

    <p>I sometimes help out users in Quartz Scheduler forums. Once in a while some one would
ask how can he/she setup the Quartz inside a web application. This is actualy a fairly
simple thing to do. The library already comes with a <code class="language-plaintext highlighter-rouge">ServletContextListener</code> that
you can use to start a Scheduler. I will show you a simple webapp example here.</p>

<p>First create a Maven <code class="language-plaintext highlighter-rouge">pom.xml</code> file.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation=
        "http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;

    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;quartz-web-demo&lt;/groupId&gt;
    &lt;artifactId&gt;quartz-web-demo&lt;/artifactId&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;
    &lt;version&gt;1.0-SANPSHOT&lt;/version&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;
            &lt;artifactId&gt;quartz&lt;/artifactId&gt;
            &lt;version&gt;2.2.0&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

&lt;/project&gt;
</code></pre></div></div>

<p>Then you need to create a <code class="language-plaintext highlighter-rouge">src/main/webapp/META-INF/web.xml</code> file.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;web-app version="2.5"
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation=
        "http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"&gt;

     &lt;context-param&gt;
         &lt;param-name&gt;quartz:config-file&lt;/param-name&gt;
         &lt;param-value&gt;quartz.properties&lt;/param-value&gt;
     &lt;/context-param&gt;
     &lt;context-param&gt;
         &lt;param-name&gt;quartz:shutdown-on-unload&lt;/param-name&gt;
         &lt;param-value&gt;true&lt;/param-value&gt;
     &lt;/context-param&gt;
     &lt;context-param&gt;
         &lt;param-name&gt;quartz:wait-on-shutdown&lt;/param-name&gt;
         &lt;param-value&gt;true&lt;/param-value&gt;
     &lt;/context-param&gt;
     &lt;context-param&gt;
         &lt;param-name&gt;quartz:start-on-load&lt;/param-name&gt;
         &lt;param-value&gt;true&lt;/param-value&gt;
     &lt;/context-param&gt;

     &lt;listener&gt;
         &lt;listener-class&gt;org.quartz.ee.servlet.QuartzInitializerListener&lt;/listener-class&gt;
     &lt;/listener&gt;

 &lt;/web-app&gt;
</code></pre></div></div>

<p>And lastly, you need a <code class="language-plaintext highlighter-rouge">src/main/resources/quartz.properties</code> config file for Scheduler.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Main Quartz configuration
org.quartz.scheduler.skipUpdateCheck = true
org.quartz.scheduler.instanceName = MyQuartzScheduler
org.quartz.scheduler.jobFactory.class = org.quartz.simpl.SimpleJobFactory
org.quartz.threadPool.class = org.quartz.simpl.SimpleThreadPool
org.quartz.threadPool.threadCount = 5
</code></pre></div></div>

<p>You may configure
<a href="http://quartz-scheduler.org/documentation/quartz-2.2.x/configuration/">many other things</a> with Quartz,
but above should get you started as in In-Memory scheduler.</p>

<p>Now you should able to compile and run it.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; mvn compile
bash&gt; mvn org.apache.tomcat.maven:tomcat7-maven-plugin:2.1:run -Dmaven.tomcat.port=8081
</code></pre></div></div>

<h2 id="how-to-configure-logging-for-quartz-scheduler">How to configure logging for Quartz Scheduler</h2>

<p>Another frequently asked question is how do they setup logging and see the DEBUG level
messages. The Quartz Schedulers uses SLF4J, so you have many
<a href="http://saltnlight5.blogspot.com/2013/08/how-to-configure-slf4j-with-different.html">loggers options</a>
to choose. I will show you how to setup Log4j for example below.</p>

<p>First, add this to your <code class="language-plaintext highlighter-rouge">pom.xml</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        &lt;dependency&gt;
            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
            &lt;version&gt;1.7.5&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre></div></div>

<p>Then add <code class="language-plaintext highlighter-rouge">src/main/resources/log4j.properties</code> file to show messages onto STDOUT.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>log4j.rootLogger=INFO, stdout
log4j.logger.org.quartz=DEBUG
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%5p [%t] (%F:%L) - %m%n
</code></pre></div></div>

<p>Restart your web application on command line, and now you should see all the DEBUG
level logging messages coming from Quartz library.</p>

<p>With everything running, your next question might be asking how do you access the scheduler
from your web application? Well, when the scheduler is created by the servlet context listener,
it is stored inside the web app’s ServletContext space with
<code class="language-plaintext highlighter-rouge">org.quartz.impl.StdSchedulerFactory.KEY</code> key. So you may retrieve it and use it in your
own Servlet like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public class YourServlet extends HttpServlet {
    public init(ServletConfig cfg) {
        String key = "org.quartz.impl.StdSchedulerFactory.KEY";
        ServletContext servletContext = cfg.getServletContext();
        StdSchedulerFactory factory = (StdSchedulerFactory) servletContext.getAttribute(key);
        Scheduler quartzScheduler = factory.getScheduler("MyQuartzScheduler");
        // TODO use quartzScheduler here.
    }
}
</code></pre></div></div>

<p>Now you are on your way to build your next scheduling application!</p>

<p>Have fun!</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2013/08/23/myschedule-3-2-1-0-is-out/">
        MySchedule-3.2.1.0 is out!
      </a>
    </h1>

    <span class="post-date">23 Aug 2013</span>

    <p>The main work on this release is upgrade to Quartz 2.2.1</p>

<ul>
  <li>Upgraded to Quartz 2.2.1</li>
  <li>
    <p>Upgraded to SLF4J 1.7.5</p>
  </li>
  <li>
    <p>Quartz 2.2.1 API has some changes that break backward compatibility and this release addressed these
issues:</p>

    <ul>
      <li>SchedulerPlugin interface now has different #initialize() signature</li>
      <li>SchedulerListener interface has added new method #schedulerStarting()</li>
      <li>Scheduler interface has couple new methods addJobs and schedulerJobs with Set instead of List.</li>
    </ul>
  </li>
</ul>

<p>Get it here: <a href="https://code.google.com/p/myschedule/downloads/list">https://code.google.com/p/myschedule/downloads/list</a></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2013/08/20/getting-started-with-apache-camel-using-java/">
        Getting started with Apache Camel using Java
      </a>
    </h1>

    <span class="post-date">20 Aug 2013</span>

    <p>Apache Camel is a very useful library that helps you process events or messages
from many different sources. You may move these messages through many different
protocols such as between VM, HTTP, FTP, JMS, or even DIRECTORY/FILE, and yet
still keep your processing code free of transport logic. This allows you to
concentrate on digesting the content of the messages instead.</p>

<p>Here I will provide a tutorial on how you can get started with Apache Camel using
Java.</p>

<p>Let’s start by creating a Maven project <code class="language-plaintext highlighter-rouge">pom.xml</code> file first.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
        http://maven.apache.org/POM/4.0.0
        http://maven.apache.org/maven-v4_0_0.xsd"&gt;

    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;camel-spring-demo&lt;/groupId&gt;
    &lt;artifactId&gt;camel-spring-demo&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;jar&lt;/packaging&gt;

    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;camel.version&gt;2.11.1&lt;/camel.version&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
            &lt;artifactId&gt;camel-core&lt;/artifactId&gt;
            &lt;version&gt;${camel.version}&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;
            &lt;version&gt;1.7.5&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

&lt;/project&gt;
</code></pre></div></div>

<p>We are only going to explore the <code class="language-plaintext highlighter-rouge">camel-core</code>, which actually contains quite of few useful
components that you may use. Also for logging purpose, I have added a <code class="language-plaintext highlighter-rouge">slf4j-simple</code> as
<a href="http://saltnlight5.blogspot.com/2013/08/how-to-configure-slf4j-with-different.html">a logger implementation</a>
so we may see output on console.</p>

<p>Next you just need a class to construct an <code class="language-plaintext highlighter-rouge">Route</code>. A <code class="language-plaintext highlighter-rouge">Route</code> is like a instruction
definition to Camel on how to move your messages from one point to another. We are
going to create <code class="language-plaintext highlighter-rouge">src/main/java/camelcoredemo/TimerRouteBuilder.java</code> file that
will generate a timer message on every second, and then pass to a processor
that simply logs it.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>package camelcoredemo;

import org.slf4j.*;
import org.apache.camel.*;
import org.apache.camel.builder.*;

public class TimerRouteBuilder extends RouteBuilder {
    static Logger LOG = LoggerFactory.getLogger(TimerRouteBuilder.class);
    public void configure() {
        from("timer://timer1?period=1000")
        .process(new Processor() {
            public void process(Exchange msg) {
                LOG.info("Processing {}", msg);
            }
        });
    }
}
</code></pre></div></div>

<p>That’s all you needed to get started. Now you may build and run this simple
demo.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; mvn compile
bash&gt; mvn exec:java -Dexec.mainClass=org.apache.camel.main.Main -Dexec.args='-r camelcoredemo.TimerRouteBuilder'
</code></pre></div></div>

<p>Notice that we didn’t even write a Java <strong>main</strong> class, but simply use the
<code class="language-plaintext highlighter-rouge">org.apache.camel.main.Main</code> option to accepts a <code class="language-plaintext highlighter-rouge">RouteBuilder</code> class
name as parameter. Then it will load and create the route automatically.</p>

<h2 id="controlling-the-camelcontext">Controlling the <code class="language-plaintext highlighter-rouge">CamelContext</code></h2>

<p>When you start Camel, it creates a <code class="language-plaintext highlighter-rouge">CamelContext</code> object that holds
many information on how to run it, including the definition of the
<code class="language-plaintext highlighter-rouge">Route</code> we created. Now if you want to have more control over this
<code class="language-plaintext highlighter-rouge">CamelContext</code>, then you would need to write your own <code class="language-plaintext highlighter-rouge">Main</code> class.
I will show you a simple one here.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>package camelcoredemo;

import org.slf4j.*;
import org.apache.camel.*;
import org.apache.camel.impl.*;
import org.apache.camel.builder.*;

public class TimerMain {
    static Logger LOG = LoggerFactory.getLogger(TimerMain.class);
    public static void main(String[] args) throws Exception {
        new TimerMain().run();
    }
    void run() throws Exception {
        final CamelContext camelContext = new DefaultCamelContext();
        camelContext.addRoutes(createRouteBuilder());
        camelContext.setTracing(true);
        camelContext.start();

        Runtime.getRuntime().addShutdownHook(new Thread() {
            public void run() {
                try {
                    camelContext.stop();
                } catch (Exception e) {
                    throw new RuntimeException(e);
                }
            }
        });

        waitForStop();
    }
    RouteBuilder createRouteBuilder() {
        return new TimerRouteBuilder();
    }
    void waitForStop() {
        while (true) {
            try {
                Thread.sleep(Long.MAX_VALUE);
            } catch (InterruptedException e) {
                break;
            }
        }
    }
}
</code></pre></div></div>

<p>As you can see, we re-used the existing <code class="language-plaintext highlighter-rouge">TimerRouteBuilder</code> class inside
<code class="language-plaintext highlighter-rouge">createRouteBuilder()</code> method. Our <code class="language-plaintext highlighter-rouge">Main</code> class now have full control
when to create, start and stop the
<a href="http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/CamelContext.html"><code class="language-plaintext highlighter-rouge">CamelContext</code></a>.
This context allow you to have control on how to configure Camel
globally rather than on <code class="language-plaintext highlighter-rouge">Route</code> level. The javadoc link gives all the setter
methods that you can explore on what it can do.</p>

<p>Noticed that we also need to provide few setup codes in our <code class="language-plaintext highlighter-rouge">Main</code> class.
First we need to handle graceful shutdown, so we added a Java shutdown hook
to invoke the context <code class="language-plaintext highlighter-rouge">stop()</code>. Secondly we need to add a thread block after
context has started. The reason for this is that the <code class="language-plaintext highlighter-rouge">CamelContext#start()</code>
method is non-blocking! If you don’t block your <code class="language-plaintext highlighter-rouge">Main</code> thread after
start, then it will simply exit right after it, which will have not
much use. You want to run Camel as a service (like a server) until
you explicitly press <code class="language-plaintext highlighter-rouge">CTRL+C</code> to terminate the process.</p>

<h2 id="improving-the-main-class-to-start-camelcontext">Improving the <code class="language-plaintext highlighter-rouge">Main</code> class to start <code class="language-plaintext highlighter-rouge">CamelContext</code></h2>

<p>If you don’t want to deal with much of the <code class="language-plaintext highlighter-rouge">Main</code> class setup
code such as above, then you may simply extends the <code class="language-plaintext highlighter-rouge">org.apache.camel.main.Main</code>
class provided by <code class="language-plaintext highlighter-rouge">camel-core</code> intead. By piggy-back on this class, you will
only not have your Context auto setup, but you will get all the additional
command line features such as controlling how long to run the
process for, enabling tracing, loading custom route class etc.</p>

<p>Refactoring previous example, here is how it look like.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>package camelcoredemo;

import org.slf4j.*;
import org.apache.camel.builder.*;
import org.apache.camel.main.Main;

public class TimerMain2 extends Main {
    static Logger LOG = LoggerFactory.getLogger(TimerMain2.class);
    public static void main(String[] args) throws Exception {
        TimerMain2 main = new TimerMain2();
        main.enableHangupSupport();
        main.addRouteBuilder(createRouteBuilder());
        main.run(args);
    }
    static RouteBuilder createRouteBuilder() {
        return new TimerRouteBuilder();
    }
}
</code></pre></div></div>

<p>Now our <code class="language-plaintext highlighter-rouge">TimerMain2</code> is much shorter, and you may try it out and it should
function the same as before.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; mvn compile
bash&gt; mvn exec:java -Dexec.mainClass=camelcoredemo.TimerMain2 -Dexec.args='-t'
</code></pre></div></div>

<p>Notice that we have given <code class="language-plaintext highlighter-rouge">-t</code> option and it will dump <code class="language-plaintext highlighter-rouge">Route</code> tracing. Use <code class="language-plaintext highlighter-rouge">-h</code>
and you will see all the available options.</p>

<h2 id="adding-bean-to-the-camel-registry">Adding bean to the Camel <code class="language-plaintext highlighter-rouge">Registry</code></h2>

<p>In the <code class="language-plaintext highlighter-rouge">TimerRouteBuilder</code> example above, we have created a <code class="language-plaintext highlighter-rouge">Processor</code> on
the fly. Now if you were to combine few different <code class="language-plaintext highlighter-rouge">Processor</code> together, it
would be nicer to minimize the noise. Camel allow you to do this by registering
processing beans in their registry space, and then you simply reference them in
your route as <code class="language-plaintext highlighter-rouge">bean</code> component. Here is how I can convert above example into
beans processing.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>package camelcoredemo;

import org.slf4j.*;
import org.apache.camel.*;
import org.apache.camel.builder.*;
import org.apache.camel.main.Main;

public class TimerBeansMain extends Main {
    static Logger LOG = LoggerFactory.getLogger(TimerBeansMain.class);
    public static void main(String[] args) throws Exception {
        TimerBeansMain main = new TimerBeansMain();
        main.enableHangupSupport();
        main.bind("processByBean1", new Bean1());
        main.bind("processAgainByBean2", new Bean2());
        main.addRouteBuilder(createRouteBuilder());
        main.run(args);
    }
    static RouteBuilder createRouteBuilder() {
        return new RouteBuilder() {
                public void configure() {
                    from("timer://timer1?period=1000")
                    .to("bean:processByBean1")
                    .to("bean:processAgainByBean2");
                }
            };
    }

    // Processor beans
    static class Bean1 implements Processor {
        public void process(Exchange msg) {
            LOG.info("First process {}", msg);
        }
    }
    static class Bean2 implements Processor {
        public void process(Exchange msg) {
            LOG.info("Second process {}", msg);
        }
    }
}
</code></pre></div></div>

<p>Now you see my <code class="language-plaintext highlighter-rouge">Route</code> is very slim and without noise clutter; and I have
refactored my processing code into individual classes. This promotes better
code management and testing as you write more complex <code class="language-plaintext highlighter-rouge">Route</code> to address
business logic. It let you build LEGO like block of re-usable POJO beans.
Besides just processing beans, Camel use this registry space for many other
services as well. For example you may customize many other component endpoints
with additional features and or configurations. Or thing such as thread
pool strategy implementation replacement etc.</p>

<p>The <code class="language-plaintext highlighter-rouge">Route</code> in example above is constructed using what’s called Java DSL.
The route is very readable, and yet you’ll get full IDE support to browse all the methods available to use for your route.</p>

<p>I hope this article has helped you jump start your Camel ride. Besides the
<code class="language-plaintext highlighter-rouge">timer</code> component mentioned, the <code class="language-plaintext highlighter-rouge">camel-core</code> also comes with the following
components out of it’s core jar.</p>

<ul>
  <li>
    <p><a href="http://camel.apache.org/bean.html">bean component</a></p>
  </li>
  <li>
    <p><a href="http://camel.apache.org/browse.html">browse component</a></p>
  </li>
  <li>
    <p><a href="http://camel.apache.org/dataset.html">dataset component</a></p>
  </li>
  <li>
    <p><a href="http://camel.apache.org/direct.html">direct component</a></p>
  </li>
  <li>
    <p><a href="http://camel.apache.org/file.html">file component</a></p>
  </li>
  <li>
    <p><a href="http://camel.apache.org/log.html">log component</a></p>
  </li>
  <li>
    <p><a href="http://camel.apache.org/mock.html">mock component</a></p>
  </li>
  <li>
    <p><a href="http://camel.apache.org/properties.html">properties component</a></p>
  </li>
  <li>
    <p><a href="http://camel.apache.org/seda.html">seda component</a></p>
  </li>
  <li>
    <p><a href="http://camel.apache.org/test.html">test component</a></p>
  </li>
  <li>
    <p><a href="http://camel.apache.org/timer.html">timer component</a></p>
  </li>
  <li>
    <p><a href="http://camel.apache.org/stub.html">stub component</a></p>
  </li>
  <li>
    <p><a href="http://camel.apache.org/validation.html">validator component</a></p>
  </li>
  <li>
    <p><a href="http://camel.apache.org/vm.html">vm component</a></p>
  </li>
  <li>
    <p><a href="http://camel.apache.org/xslt.html">xslt component</a></p>
  </li>
</ul>

<p>Have fun!</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2013/08/18/how-to-configure-slf4j-with-different-logger-implementations/">
        How to configure SLF4J with different logger implementations
      </a>
    </h1>

    <span class="post-date">18 Aug 2013</span>

    <p>There are many good benefits in using <code class="language-plaintext highlighter-rouge">slf4j</code> library as your Java
application logging API layer. Here I will show few examples on how
to use and configure it with different loggers.</p>

<p>You can think of <code class="language-plaintext highlighter-rouge">slf4j</code> as an Java interface, and then you would
need an implementation (ONLY ONE) at runtime to provide the actual
logging details, such as writing to STDOUT or to a file etc. Each
logging implementation (or called binding) would obviously have their
own way of configuring the log output, but your application will remain
agnostic and always use the same <code class="language-plaintext highlighter-rouge">org.slf4j.Logger</code> API. Lets see how
this works in practice.</p>

<p>## 
Using <code class="language-plaintext highlighter-rouge">slf4j</code> with Simple logger</p>

<p>Create a Maven based project and this in your <code class="language-plaintext highlighter-rouge">pom.xml</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;
        &lt;version&gt;1.7.5&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre></div></div>

<p>Now you may use <code class="language-plaintext highlighter-rouge">Logger</code> in your Java code like this.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>package deng;
import org.slf4j.*;
public class Hello {
    static Logger LOGGER = LoggerFactory.getLogger(Hello.class);
    public static void main(String[] args) {
        for (int i = 0; i &lt; 10; i++)
            if (i % 2 == 0)
                LOGGER.info("Hello {}", i);
            else
                LOGGER.debug("I am on index {}", i);
    }
}
</code></pre></div></div>

<p>The above will get your program compiled, but when you run it, you will see these output.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; java deng.Hello
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
</code></pre></div></div>

<p>What its saying is that at runtime, you are missing the logging “implementation” (or the
logger binding), so <code class="language-plaintext highlighter-rouge">slf4j</code> simply use a “NOP” implmentation, which does nothing. In order
to see the output properly, you may try use an simple implementation that does not require
any configuration at all! Just go back to your <code class="language-plaintext highlighter-rouge">pom.xml</code> and add the following:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;
        &lt;version&gt;1.7.5&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre></div></div>

<p>Now you see logging output on STDOUT with INFO level. This simple logger will default
show any INFO level message or higher. In order to see DEBUG messages, you would
need to pass in this System Property <code class="language-plaintext highlighter-rouge">-Dorg.slf4j.simpleLogger.defaultLogLevel=DEBUG</code>
at your Java startup.</p>

<p>## 
Using <code class="language-plaintext highlighter-rouge">slf4j</code> with Log4j logger</p>

<p>Now we can experiment and swap different logger implementations, but your application code
can remain the same. All we need is to replace <code class="language-plaintext highlighter-rouge">slf4j-simple</code> with another popular logger
implementation, such as the Log4j.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
        &lt;version&gt;1.7.5&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre></div></div>

<p>Again, we must configure logging per implementation that we picked.
In this case, we need an <code class="language-plaintext highlighter-rouge">src/main/resources/log4j.properties</code> file.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    log4j.rootLogger=DEBUG, STDOUT
    log4j.logger.deng=INFO
    log4j.appender.STDOUT=org.apache.log4j.ConsoleAppender
    log4j.appender.STDOUT.layout=org.apache.log4j.PatternLayout
    log4j.appender.STDOUT.layout.ConversionPattern=%5p [%t] (%F:%L) - %m%n
</code></pre></div></div>

<p>Re-run your program, and you should see similar output.</p>

<p>## 
Using <code class="language-plaintext highlighter-rouge">slf4j</code> with JDK logger</p>

<p>The JDK actually comes with a logger package, and you can replace <code class="language-plaintext highlighter-rouge">pom.xml</code>
with this logger implementation.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
        &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;
        &lt;version&gt;1.7.5&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre></div></div>

<p>Now the configuration for JDK logging is a bit difficult to work with. Not only need a
config file, such as <code class="language-plaintext highlighter-rouge">src/main/resources/logging.properties</code>, but you would also need
to add a System properties <code class="language-plaintext highlighter-rouge">-Djava.util.logging.config.file=logging.properties</code>
in order to have it pick it up. Here is an example to get you started:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.level=INFO

handlers=java.util.logging.ConsoleHandler
java.util.logging.ConsoleHandler.level=FINEST
deng.level=FINEST
</code></pre></div></div>

<p>## 
Using <code class="language-plaintext highlighter-rouge">slf4j</code> with Logback logger</p>

<p>The logback logger implementation is a super dupa quality implementation. If you intend
to write serious code that go into production, you may want to evaluate this option. Again
modify your <code class="language-plaintext highlighter-rouge">pom.xml</code> to replace with this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    &lt;dependency&gt;
        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
        &lt;version&gt;1.0.13&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre></div></div>

<p>Here is a sample of configuration <code class="language-plaintext highlighter-rouge">src/main/resources/logback.xml</code> to get things started.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;configuration&gt;
  &lt;appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender"&gt;
    &lt;encoder&gt;
      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;
    &lt;/encoder&gt;
  &lt;/appender&gt;

  &lt;logger name="deng" level="DEBUG"/&gt;

  &lt;root level="INFO"&gt;
    &lt;appender-ref ref="STDOUT" /&gt;
  &lt;/root&gt;
&lt;/configuration&gt;
</code></pre></div></div>

<p>## 
Writing your own library with <code class="language-plaintext highlighter-rouge">slf4j</code> logger</p>

<p>If you are providing an Java library for large end users consumption, its good idea to
set your project to depend on <code class="language-plaintext highlighter-rouge">slf4j-api</code> only, and then let your user choose any
logger implementation at their development or runtime environment. As end users, they
may quickly select one of option above and take advatage of their own favorite logging
implementation features.</p>

<p>## 
References</p>

<ul>
  <li>
    <p><a href="http://slf4j.org/">http://slf4j.org/</a></p>
  </li>
  <li>
    <p><a href="http://logging.apache.org/log4j/1.2/">http://logging.apache.org/log4j/1.2/</a></p>
  </li>
  <li>
    <p><a href="http://docs.oracle.com/javase/7/docs/technotes/guides/logging/">http://docs.oracle.com/javase/7/docs/technotes/guides/logging/</a></p>
  </li>
  <li>
    <p><a href="http://logback.qos.ch/">http://logback.qos.ch/</a></p>
  </li>
</ul>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2013/08/17/how-to-convert-asciidoc-text-to-html-using-groovy/">
        How to convert asciidoc text to html using Groovy
      </a>
    </h1>

    <span class="post-date">17 Aug 2013</span>

    <p>Here is how you can convert <code class="language-plaintext highlighter-rouge">asciidoc</code> text using Groovy script:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// filename: RunAsciidoc.groovy
@Grab('org.asciidoctor:asciidoctor-java-integration:0.1.3')
import org.asciidoctor.*
def asciidoctor = Asciidoctor.Factory.create()
def output = asciidoctor.renderFile(new File(args[0]),  [:])
println(output);
</code></pre></div></div>

<p>Now you may run it</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>groovy RunAsciidoc.groovy myarticle.txt
</code></pre></div></div>

<p>Many thanks to the <code class="language-plaintext highlighter-rouge">asciidoctor.org</code> project!</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2013/06/23/how-to-manage-maven-third-party-jars/">
        How to manage Maven third party jars
      </a>
    </h1>

    <span class="post-date">23 Jun 2013</span>

    <h2 id="how-to-manage-maven-third-party-jars">How to manage Maven third party jars</h2>

<p>When you find yourself the need to load third party jars into Maven repository,
there are few steps you normally do to test it out. You first install them
locally into <code class="language-plaintext highlighter-rouge">$HOME/.m2/repository</code>, and then create your project pom that
list those dependency. When things look good, then you deploy into your own
hosted repository. The following scripts will help you perform these tasks.</p>

<p>Tip</p>

<p>If you have lot’s of jars under a group, it’s more conveninent to create
an extra pom that list these dependency and install/deploy it into the repository
as well. And then your project would only need to include one dependency
with <code class="language-plaintext highlighter-rouge">&lt;type&gt;pom&lt;/type&gt;</code>.</p>

<p>file: <code class="language-plaintext highlighter-rouge">bin/mvn-install.sh</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#!/usr/bin/env bash
#
# Install local jar files into Maven repository. The artifact name would be same
# as the filename minus the extension.
# :Author: Zemian Deng
# :date: 2013T00:00:00-05:00
#
# Usage:
#   # Print as maven dependency used in pom file
#   mvn-install.sh mygroup 1.0.0 lib/*.jar
#
#   # Install jar files into local maven repo
#   RUN_TYPE=install mvn-install.sh mygroup 1.0.0 lib/*.jar
#
#   # Deploy jar files into remote maven repo
#   export REPO_URL=http://localhost/nexus/content/repositories/thirdparty
#   RUN_TYPE=deploy mvn-install.sh mygroup 1.0.0 lib/*.jar
#

# Capture command arguments and options
GROUP=$1
shift
VERSION=$1
shift
FILES="$@"
if [[ "$GROUP" == "" || "$VERSION" == "" || "$FILES" == "" ]]; then
 printf "ERROR: invalid arguments: GROUP VERSION FILES...\n"
 exit 1
fi

RUN_TYPE=${RUN_TYPE:="print"} # values: print|install|deploy
REPO_ID=${REPO_ID:="nexus-server"} # Id defined in user's settings.xml for authentication
REPO_URL=${REPO_URL:="http://localhost/nexus/content/repositories/thirdparty"}

# For each file, perform action based on run type.
for FILE in $FILES; do
 ARTIFACT=`basename $FILE '.jar'`
 if [[ "$RUN_TYPE" == "deploy" ]]; then
  printf "Deploying file=$FILE as artifact=$ARTIFACT to repo=$REPO_URL\n"
  mvn deploy:deploy-file \
   -DrepositoryId=$REPO_ID -Durl=$REPO_URL \
   -DgroupId=$GROUP -DartifactId=$ARTIFACT -Dversion=$VERSION -Dpackaging=jar \
   -Dfile=$FILE
 elif [[ "$RUN_TYPE" == "install" ]]; then
  printf "Installing file=$FILE as artifact=$ARTIFACT\n"
  mvn install:install-file \
   -DgroupId=$GROUP -DartifactId=$ARTIFACT -Dversion=$VERSION -Dpackaging=jar \
   -Dfile=$FILE
 elif [[ "$RUN_TYPE" == "print" ]]; then
  printf "        &lt;dependency&gt;\n"
  printf "            &lt;groupId&gt;$GROUP&lt;/groupId&gt;\n"
  printf "            &lt;artifactId&gt;$ARTIFACT&lt;/artifactId&gt;\n"
  printf "            &lt;version&gt;$VERSION&lt;/version&gt;\n"
  printf "        &lt;/dependency&gt;\n"
 fi
done
</code></pre></div></div>
<p>Last updated 2013-06-18 19:14:37 EDT</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2013/06/17/how-to-zip-up-a-release-from-a-hg-repository/">
        How to zip up a release from a hg repository
      </a>
    </h1>

    <span class="post-date">17 Jun 2013</span>

    <h2 id="how-to-zip-up-a-release-from-a-hg-repository">How to zip up a release from a hg repository</h2>

<p>Did you know <code class="language-plaintext highlighter-rouge">hg archive</code> command can quickly zip up your project by given a revision or release
name? This is very handy to package up a distribution and share with other who is refusing to use
the same client.</p>

<p>I wrote a simple bash script to do this with couple extras. It will create a zip file with a nice
basename so it’s easy for unzipping. It also auto generate and append the given revision or tag
name into the RELEASE.txt file, so you know what’s been released.</p>

<p>Just add the following file into any root of your <code class="language-plaintext highlighter-rouge">hg</code> based project’s <code class="language-plaintext highlighter-rouge">bin</code> directory and it’s
ready to use.</p>

<p>Note</p>

<p>This script will not tag your repository. It assumed you already have tagged. It simply
will package up a release into a nice little zip file.</p>

<p>file: <code class="language-plaintext highlighter-rouge">bin/zip-release.sh</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#!/usr/bin/env bash
#
# Package a release or snapshot from Hg repository for distribution.
# :Author: Zemian Deng
# :date: 2013T00:00:00-05:00
#
# Usage example:
#   # release a specific tag
#   cd /path/to/project
#   bin/zip-release.sh 1.0.1
#
#   # release a snapshot
#   bin/zip-release.sh
#

# Command line arguments and options
# Assume this script is in bin, which one directory up.
APP_HOME=`cd $(dirname $0)/.. &amp;&amp; pwd`
if [[ `command -v realpath` != "" ]]; then
    # resolve symbolic link if possible.
    APP_HOME=`realpath $APP_HOME`
fi
HG_REVISION=`hg id -i`
REL_VERSION=$1
if [[ "$REL_VERSION" == "" ]]; then
    REL_VERSION=$HG_REVISION
fi
REL_NAME="`basename $APP_HOME`-$REL_VERSION"
REL_DIR=$APP_HOME/target/$REL_NAME
REL_ZIPFILE=$REL_DIR/../$REL_NAME.zip

# Generate the zip package
printf "Generating $REL_NAME in directory=`pwd`\n"
mkdir -p $REL_DIR
hg archive -r $REL_VERSION $REL_ZIPFILE

# Auto append revision id to release file.
if [[ -e $APP_HOME/RELEASE.txt ]]; then
    cp $APP_HOME/RELEASE.txt $REL_DIR/RELEASE.txt
fi
printf "$REL_NAME revsion=$HG_REVISION date=`date`\n" &gt;&gt; $REL_DIR/RELEASE.txt
zip -u $REL_ZIPFILE $REL_DIR/RELEASE.txt

# Clean up the tmp rel dir.
rm -r $REL_DIR

printf "$REL_ZIPFILE created.\n"
</code></pre></div></div>
<p>Last updated 2013-06-18 19:18:48 EDT</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2013/06/14/how-to-install-awestruct-on-cygwin/">
        How to install awestruct on Cygwin
      </a>
    </h1>

    <span class="post-date">14 Jun 2013</span>

    <p>How to install <code class="language-plaintext highlighter-rouge">awestruct</code> on Cygwin</p>

<h2 id="how-to-install-awestruct-on-cygwin">How to install <code class="language-plaintext highlighter-rouge">awestruct</code> on Cygwin</h2>

<p>I tried installing <code class="language-plaintext highlighter-rouge">awestruct</code> on Cygwin today, but it failed with following:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    gem install awestruct
    Building native extensions.  This could take a while...
    ERROR:  Error installing awestruct:
            ERROR: Failed to build gem native extension.
    
            /usr/bin/ruby.exe extconf.rb
    checking for libxml/parser.h... *** extconf.rb failed ***
    Could not create Makefile due to some reason, probably lack of
    necessary libraries and/or headers.  Check the mkmf.log file for more
    details.  You may need configuration options.
</code></pre></div></div>
<p>I am running Windows 7 with Cygwin 1.7.20 and ruby 1.9.3p392</p>

<p>After looking at the log and googling around, I’ve found that the <code class="language-plaintext highlighter-rouge">awestruct</code> depends on <code class="language-plaintext highlighter-rouge">nokogiri</code>, and in
turns depends on <code class="language-plaintext highlighter-rouge">libxslt</code>, <code class="language-plaintext highlighter-rouge">libxslt</code> and <code class="language-plaintext highlighter-rouge">iconv</code> native lib. I have the last three
already installed in Cygwin with default paths, but the problem is they are installed
under <code class="language-plaintext highlighter-rouge">/usr</code> and not <code class="language-plaintext highlighter-rouge">/usr/local</code>. Because of this, I have to install the <code class="language-plaintext highlighter-rouge">awestruct</code>
with extra parameters like this:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    gem install awestruct -- --with-xml2-include=/usr/include/libxml2 \
                            --with-xml2-lib=/usr/lib \
                            --with-xslt-dir=/usr/include/libxslt \
                            --with-iconv-include=/usr/include \
                            --with-iconv-lib=/usr/lib
</code></pre></div></div>
<p>Now I am awestruct!</p>

<p>Last updated 2013-06-15 21:51:49 EDT</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="http://localhost:4000/page21">Older</a>
  
  
    
      <a class="pagination-item newer" href="http://localhost:4000/page19">Newer</a>
    
  
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='/public/js/script.js'></script>
  </body>
</html>
