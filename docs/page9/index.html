<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Zemian's Blog &middot; Life in programming world!
    
  </title>

  
  <link rel="canonical" href="http://localhost:4000/page9/">
  

  <link rel="stylesheet" href="http://localhost:4000/public/css/poole.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/syntax.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="http://localhost:4000/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://localhost:4000/atom.xml">

  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-135626598-1', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A weblog on software development.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item active" href="http://localhost:4000/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="http://localhost:4000/about/">About</a>
        
      
    
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    

  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2020. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Zemian's Blog</a>
            <small>Life in programming world!</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2016/07/06/migrating-django-1-6-to-1-9/">
        Migrating Django 1.6 to 1.9
      </a>
    </h1>

    <span class="post-date">06 Jul 2016</span>

    <p>Couple years ago, I wrote a simple Events and Signin management app
using django 1.6. It was fun to write and it worked really well. Just
recently I have to write another quick simple CRM webapp and I decided
to use Django again, but they current release is 1.9 now and I quickly
found few differences.</p>

<ul>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">INSTALLED_APPS</code> now takes <code class="language-plaintext highlighter-rouge">AppCofig</code> instead of package name.
And there is a new <code class="language-plaintext highlighter-rouge">apps.py</code> file for it.</p>
  </li>
  <li>
    <p>There is now <code class="language-plaintext highlighter-rouge">makemigration</code> and <code class="language-plaintext highlighter-rouge">migrate</code> command to create
database table.</p>
  </li>
</ul>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2016/07/06/login-to-remote-host-without-password/">
        Login to remote host without password
      </a>
    </h1>

    <span class="post-date">06 Jul 2016</span>

    <p>Most of remote systems are secured by SSH, and to gain remote control with terminal, you would need to <code class="language-plaintext highlighter-rouge">ssh</code> into the server. You will be prompted to login with your password on every session. To avoid typing password everytime, you need to setup as authorized client. Here is how you can do that with ssh key.</p>

<p>First on your own client machine, generate the <code class="language-plaintext highlighter-rouge">$HOME/.ssh/id_rsa.pub</code> file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; ssh-keygen
# When prompted to enter password, simply hit ENTER key to skip it!
bash&gt; cat  ~/.ssh/id_rsa.pub
xxxyyyzzz zemian@myhost
# You will see a very long string instead of "xxxyyyzzz".
</code></pre></div></div>

<p>Now you need to copy this public key string into your remote host. You need to <code class="language-plaintext highlighter-rouge">ssh</code> into the remote host with your valid password first to setup. If successful, the subsequent <code class="language-plaintext highlighter-rouge">ssh</code> into the remote host will not prompt you for password!</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; ssh myremotehost
# Enter password to gain access
</code></pre></div></div>

<p>After you are in the remote host:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>myremotehost&gt; vim ~/.ssh/authorized_keys
#Paste and append the "xxxyyyzzz" into above file.
</code></pre></div></div>

<p>If you don’t already have the <code class="language-plaintext highlighter-rouge">~/.ssh/authorized_keys</code> file on remote host, then create it, but ensure you don’t let other users or groups to access it. Use command like this to change the permission:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; chmod g-rw,o-rw ~/.ssh/authorized_keys
</code></pre></div></div>

<p>The cool thing about this is that it affects all <code class="language-plaintext highlighter-rouge">ssh</code> related commands, such as <code class="language-plaintext highlighter-rouge">scp</code> will now work without prompting you for password!</p>

<p>Have a productive day!</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2016/07/05/inspect-oracle-database-schema-and-tables-with-kotlin/">
        Inspect Oracle Database Schema and Tables with Kotlin
      </a>
    </h1>

    <span class="post-date">05 Jul 2016</span>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Filename: conn.kts
// Usage: kotlinc -cp /home/zedeng/Downloads/ojdbc7.jar -script conn.kts

import java.sql.*

Class.forName("oracle.jdbc.driver.OracleDriver")
val conn = DriverManager.getConnection("jdbc:oracle:thin:@myremotehost:1521:MYDB", "system", "mypassword123")

println("Database connection established $conn")
println("Database Default Catalog: ${conn.getCatalog()}")
println("Database Default Schema: ${conn.getSchema()}")

val m = conn.getMetaData()
println("${m.getDatabaseProductName()} ${m.getDatabaseMajorVersion()} ${m.getDatabaseMinorVersion()}")

println("List of Schemas")
var rs: ResultSet
rs = m.getSchemas()
while(rs.next()) {
    println("  ${rs.getObject(1)}")
}
rs.close()

val listSchemaName = conn.getSchema()
println("List of Tables for ${listSchemaName}")
rs = m.getTables(conn.getCatalog(), listSchemaName, null, null)
while(rs.next()) {
    val name = rs.getObject("TABLE_NAME")
    println("  $name")
}
rs.close()

println("Execute query:")
val stmt = conn.createStatement()
rs = stmt.executeQuery("SELECT 1+1 FROM DUAL")
while(rs.next()) {
    val v = rs.getObject(1)
    println("  1 + 1 from DB=$v")
}
rs.close()
stmt.close()

conn.close()
</code></pre></div></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2016/07/05/how-to-import-ssl-cert-into-wls-demotrust-jks-keystore-file/">
        How to import SSL cert into WLS DemoTrust.jks keystore file
      </a>
    </h1>

    <span class="post-date">05 Jul 2016</span>

    <p>In WLS, you can import your own SSL cert into its trust keystore file to invoke “https” contents. Here is how you do that with the default WLS <code class="language-plaintext highlighter-rouge">DemoTrust.jks</code> file.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; cd $WL_HOME/server/lib
bash&gt; keytool -keystore DemoTrust.jks -storepass DemoTrustKeyStorePassPhrase -list
bash&gt; keytool -keystore DemoTrust.jks -storepass DemoTrustKeyStorePassPhrase -importcert -alias mycert -file mycert.pem

# Or to delete the entry
bash&gt; keytool -keystore DemoTrust.jks -storepass DemoTrustKeyStorePassPhrase -delete -alias mycert
</code></pre></div></div>

<p>The file <code class="language-plaintext highlighter-rouge">mycert.pem</code> can be obtained by any modern browser when you visit the “https” site. For example using Firefox, you can follow these steps to export the cert file:</p>

<ol>
  <li>
    <p>Click on the Lock icon next to the URL in the broswer</p>
  </li>
  <li>
    <p>Click More Information button, then go to the “Security Tab”</p>
  </li>
  <li>
    <p>Click View Certificate button, then go to the Details tab</p>
  </li>
  <li>
    <p>Click Export ​ button</p>
  </li>
  <li>
    <p>On the bottom right corner dropdown, select X.509 Cerificate with chain (PEM)</p>
  </li>
  <li>
    <p>Type name of file to save (eg: <code class="language-plaintext highlighter-rouge">mycert.pem</code>) and then click Save button</p>
  </li>
</ol>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2016/06/30/some-of-my-old-projects/">
        Some of my old projects
      </a>
    </h1>

    <span class="post-date">30 Jun 2016</span>

    <p>Here are some of interesting side projects I have worked on in the past</p>

<h1 id="django-developer-at-shift-ministry">Django Developer at SHIFT Ministry</h1>

<p>Orlando, FL Feb 2013 to Present</p>

<p>Eventful web application</p>

<ul>
  <li>Technologies used: Python 2.7, Django 1.6, Bootstrap, JQuery,
SublimeText, MySQL, Mercurial(hg).</li>
</ul>

<p>Simple CRM web application</p>

<ul>
  <li>Technologies used: Python 3.5, Django 1.9, PyCharm, PostgreSQL,
Mercurial(hg).</li>
</ul>

<h1 id="quartz-scheduler">Quartz Scheduler</h1>

<p><a href="http://quartz-scheduler.org">http://quartz-scheduler.org</a></p>

<p>I am a committer for Quartz Scheduler project, and I often help users on
their forums. I have fixed many bug issues and implemented new features
during the quartz 2.1 release. You may find my commits with svn username
id <code class="language-plaintext highlighter-rouge">light5</code> in their repository, or <code class="language-plaintext highlighter-rouge">zemian</code> after they moved to
github.com.</p>

<h1 id="myschedule">MySchedule</h1>

<p><a href="https://github.com/zemian/myschedule">https://github.com/zemian/myschedule</a></p>

<p>I have written a UI front-end web application to managing quartz
schedulers. I am the owner of this project, and I have done build,
release, and written full documentation on how to use the application.
There are several thousands of downloads since the first release.</p>

<h1 id="timemachine-scheduler">TimeMachine Scheduler</h1>

<p><a href="https://bitbucket.org/zemian/timemachine-scheduler">https://bitbucket.org/zemian/timemachine-scheduler</a> (Inactive!)</p>

<p>Ive created a Java scheduler project that is fully scalable for
enterprise use. Its a scheduler application that has easy job
configuration and flexible scheduling with plugable data storage.</p>

<h1 id="sweetscala-web-framework">SweetScala Web Framework</h1>

<p><a href="https://code.google.com/archive/p/sweetscala">https://code.google.com/archive/p/sweetscala</a> (Inactive!)</p>

<p>Sweet is a MVC based web application framework for building dynamic web
applications. The framework is made with Scala, an Object Oriented and
Functional programming language that runs on JVM.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2016/06/27/how-to-install-venv-and-pip-with-a-python-3-4-distribution/">
        How to install venv and pip with a python 3.4 distribution
      </a>
    </h1>

    <span class="post-date">27 Jun 2016</span>

    <p>If you are unfortunate enough to have stuck with a Python 3.4 distribution and you want to setup a virtual env, then likely you will get the ensurepip module not found error:</p>

<p>bash&gt; python3.4 -m venv mypy
Error: Command ‘[‘/home/zedeng/py-dev/mypy/bin/python3.4’, ‘-Im’, ‘ensurepip’, ‘–upgrade’, ‘–default-pip’]’ returned non-zero exit status 1</p>

<p>I found someone posted a nice solution [1] to this. So first remove the dir first.
bash&gt; rm -r mypy</p>

<p>Now do it again like this:
bash&gt; python3.4 -m venv mypy –without-pip
bash&gt; . mypy/bin/activate</p>

<p>mypy&gt; wget https://bootstrap.pypa.io/get-pip.py
mypy&gt; python get-pip.py 
mypy&gt; pip list</p>

<p>Now the problem is solved. I believe this problem is gone if you upgrade to Python 3.5</p>

<p>[1] http://www.thefourtheye.in/2014/12/Python-venv-problem-with-ensurepip-in-Ubuntu.html</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2016/06/26/untrack-file-without-deleting-it-with-a-hg-repository/">
        Untrack file without deleting it with a hg repository
      </a>
    </h1>

    <span class="post-date">26 Jun 2016</span>

    <p>So I have created a maven based Java project using IntelliJ IDEA, and I added all files to my hg repository with this .hgignore file in place:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>syntax: glob
target/
</code></pre></div></div>

<p>Later I learned that I shouln’t track one of IDEA’s workspace file, so I want to remove from my repository tracking, but I do not want it be deleted. Here is what you should do:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; hg forget .idea/workspace.xml
bash&gt; echo '.idea/workspace.xml' &gt;&gt; .hgignore
</code></pre></div></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2016/06/26/installing-a-local-downloaded-rpm-file/">
        Installing a local downloaded .rpm file
      </a>
    </h1>

    <span class="post-date">26 Jun 2016</span>

    <p>To install:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; sudo yum install &lt;package_name.rpm&gt;
</code></pre></div></div>

<p>If you have problem installing it due to gpg check failure and you know it’s a good RPM, then try with this.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; sudo yum --nogpgcheck localinstall &lt;package_name.rpm&gt;
</code></pre></div></div>

<p>To verify what’s in the rpm:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; rpm -qlp &lt;package_name.rpm&gt;
</code></pre></div></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2016/06/26/how-to-fix-add-a-non-nullable-field-without-a-default-error/">
        How to fix 'add a non-nullable field ... without a default' error
      </a>
    </h1>

    <span class="post-date">26 Jun 2016</span>

    <p>Error example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(mypy) Zemians-Air:crmsite zemian$ ./manage.py makemigrations
</code></pre></div></div>

<p>You are trying to add a non-nullable field ‘created_dt’ to customer without a default; we can’t do that (the database needs something to populate existing rows).</p>

<p>The reason this will happen if you already have a migration file that created the table first and then you create 2nd migration file that try to add new fields. The tool is not smart enough to know you don’t have data there yet, and must require you to provide default data!</p>

<p>Solution: if this is brand new table you are creating, manually remove the previous migration files and let it generate a complete one! Or if you already have table exists and it’s during development, you can drop your table and recreate your migration files. Else if you have production table exist, you definitely want to address this with a default value in order to migrate successfully.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/2016/06/26/getting-started-with-postgresql-database/">
        Getting started with PostgreSQL database
      </a>
    </h1>

    <span class="post-date">26 Jun 2016</span>

    <p>I have been learning and using PostgreSQL recently for a Django app, and I have to say it’s really GOOD! I have used quite a bit of MySQL and Oracle DB in my workplace, so I didn’t find good reason to learn PostgreSQL in the past. Now I finally get a chance to start another new project with Django, so I decided to give it a try, and I wasn’t disappointed. I will write up a brief getting started guide here for those impatient to get things moving.</p>

<p>Installing. If you are running on a Mac, the easiest way to try it out is just get the http://postgresapp.com, you just start the App, and your DB is running! No config needed!</p>

<p>After you have the database installed and running, you can either connect to the default “postgres” public database by (psql command), or create your own database. To create your own database, you run this command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; PATH=/Applications/Postgres.app/Contents/Versions/latest/bin:$PATH
bash&gt; createdb mydb
</code></pre></div></div>

<p>Now you can connect to the new database</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; psql -d mydb
</code></pre></div></div>

<p>Once you connected to database, you may run SQL to create/insert/select a table:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mydb-# create table test(id serial, name varchar(200));
mydb-# insert into test(name) values('Hello');
mydb-# select * from test; 

To inspect your  table columns:
mydb-# \d test;

To see all tables available:
mydb-# \dt;

To see all database available:
mydb-# \l;

To switch to another database:
mydb-# \c mydb2;

To see more help (check out \d options! it's super flexible and useful.):
mydb-# \?;

To quit the psql shell:
mydb-# \q;
</code></pre></div></div>

<p>To create a database user and set up password, you can do it on bash shell as well:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; echo "CREATE ROLE mydbuser1 WITH CREATEDB LOGIN PASSWORD 'Welcome1'" | psql

bash&gt; echo "GRANT ALL PRIVILEGES ON DATABASE mydb TO mydbuser1" | psql
</code></pre></div></div>

<p>Now you may relogin again with the user. It should prompt you for password.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash&gt; psql -U mydbuser1 -W
</code></pre></div></div>

<p>Once you connected to your database again, you may check your user privileges:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mydb-# \dp;
</code></pre></div></div>

<p>These examples should be enough to get you setup a database for app development. The rest are just normal SQL access to database. The <a href="https://www.postgresql.org/docs/9.5/static/index.html">PostgresSQL documentation</a> is an excellent reference for all that you need.</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="http://localhost:4000/page10">Older</a>
  
  
    
      <a class="pagination-item newer" href="http://localhost:4000/page8">Newer</a>
    
  
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='/public/js/script.js'></script>
  </body>
</html>
